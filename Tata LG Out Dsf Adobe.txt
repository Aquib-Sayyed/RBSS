<%@ Page Language="C#" AutoEventWireup="true" CodeFile="TATA_AIG.aspx.cs" Inherits="TATA_AIG" %>

<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="cc1" %>
<%@ Register Assembly="Telerik.Web.UI" Namespace="Telerik.Web.UI" TagPrefix="telerik" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <style type="text/css">
        .nav-justified
        {
            width: 1087px;
        }
        .boxes
        {
        }
        .nowrap
        {
        }
    </style>
    <script type="text/javascript">
    function ValidAlphabet() {    
    
    var code = (event.which) ? event.which : event.keyCode;    
    
    if ((code >= 65 && code <= 90) ||    
        (code >= 97 && code <= 122) || (code == 32))    
    { return true; }    
    else    
    { return false; }    
    }    
    </script>

    <script type="text/javascript">
        function isNumber(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode

            alert('Non Editable');
            return false;

            return true;
        }
</script>

</head>
<body>
    <form id="form1" runat="server">
    <script language="javascript" type="text/javascript">
        function selectTab() {

            var tabstrip = $find('<%= RadTabStrip1.ClientID %>');
            tabstrip.get_tabs().getTab("3").click();
        }

        function countCharRemarks(val) {
            var sender = document.getElementById('<%=txtremarks.ClientID %>');
            if (sender.value.length < 250) {
                sender.value = sender.value.substr(0, 250);
            }
        };
    </script>

    
    <%--<script type="text/javascript">

        function OnClientClicked(sender, args) {
            alert('ss');

            var window = $find('<%=UserListDialog.ClientID %>');

            window.close();

        }

    </script>--%>
    <div>
        <div>
            <cc1:ToolkitScriptManager ID="ToolkitScriptManager1" runat="server" EnablePageMethods="true">
                <Services>
                    <asp:ServiceReference Path="~/Services/CtiWS.asmx" />
                </Services>
            </cc1:ToolkitScriptManager>
            <telerik:RadTabStrip runat="server" ID="RadTabStrip1" SelectedIndex="3" MultiPageID="RadMultiPage1"
                Style="margin-bottom: 0">
                <Tabs>
                    <telerik:RadTab Text="MASTER DETAILS" meta:resourcekey="RadTabStrip1" PageViewID="India First"
                        Enabled="true" Selected="True">
                    </telerik:RadTab>
                    <telerik:RadTab Text="MASTER DETAILS2" meta:resourcekey="RadTabStrip1" PageViewID="MasterDetails2"
                        Enabled="true">
                    </telerik:RadTab>
                    <telerik:RadTab Text="HISTORY" meta:resourcekey="RadTabStrip1" PageViewID="HISTORY">
                    </telerik:RadTab>
                    <telerik:RadTab Text="NOTEPAD" meta:resourcekey="RadTabStrip1" 
                        PageViewID="OUTNOTEPAD" visible="false">
                    </telerik:RadTab>
                       <telerik:RadTab Text="Knowledge Bank" meta:resourcekey="RadTabStrip1" PageViewID="Scripts"
                    Enabled="true" >
                    </telerik:RadTab>
                    <telerik:RadTab Text="X-Lite Details" meta:resourcekey="RadTabStrip1" PageViewID="Xlite"
                    Enabled="true" >
                    </telerik:RadTab>
                </Tabs>
            </telerik:RadTabStrip>

            <table style="width: 1066px">

         <marquee>
         <asp:Label ID="Label67" runat="server" ForeColor="Red" Font-Size="Large" Text="“Saving on Premium -  Digital Selling Discount-(7 % On First Year Premium – Limited & Regular PPT),,(1 % On First Year Premium for Single Pay),,(11.65 % Upfront Discount on First Year Premium)”">
         </asp:Label></marquee>

         <marquee>
         <asp:Label ID="Label68" runat="server" ForeColor="Red" Font-Size="Large" Text="“Women Pay Lesser Premium-(Overall Up to 21 % Discount on First Year Premium),,(Overall Up to 25 % Discount on First Year Premium)”">
         </asp:Label></marquee>
 
            </table>

            <telerik:RadMultiPage ID="RadMultiPage1" runat="server" SelectedIndex="3" EnableEmbeddedScripts="true"
                Font-Names="Times New Roman">
                <telerik:RadPageView ID="Outbnd" runat="server" Height="750px" Selected="True">
                    <fieldset style="border: medium double #000080">
                        <legend>
                            <div style="font-size: 12px; font-family: 'Book Antiqua'; color: #FF0000;">
                                Call Details</div>
                        </legend>
                        <marquee scrollamount="5">
                        <asp:Label ID="Label92" runat="server" Width="120px" ForeColor="blue" Font-Size="XX-Large" Font-Bold="true" Text="ADOBE"></asp:Label>
                        </marquee>
                        <table class="nav-justified" cellspacing="8" cellpadding="5" title="TATA AIA" bgcolor="#3399FF">
                            <caption>
                                <tr>
                                    <td>
                                        <asp:Label ID="lbllead" runat="server" Text="Lead ID"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtleadid1" runat="server" ReadOnly="True" BackColor="#FFFFCC"></asp:TextBox>
                                       <asp:Button ID="btnsearch" runat="server" Text="Search" Width="50px" 
                                            onclick="btnsearch_Click" Visible="False" />
                                         
                                    </td>
                                    <td>
                                        <asp:Label ID="lblMobile" runat="server" Text="Mobile No."></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtmobile1_hidden" runat="server" ReadOnly="true" BackColor="#FFFFCC"></asp:TextBox>
                                        <asp:HiddenField ID="txtmobile1" runat="server" />
                                         <asp:Label ID="Label55" runat="server" Text="Mobile No."></asp:Label>
                                    </td>
                                    <td>
                                        <asp:Button ID="Button1" runat="server" OnClick="Button1_Click" Text="Dial" Width="50px" />
                                    </td>
                                    <td>
                                        <asp:Button ID="Button2" runat="server" OnClick="Button2_Click" Text="HangUp" Width="90px" />
                                    </td>
                                    <td>
                                        <asp:Button ID="Button3" runat="server" OnClick="Button3_Click" Text="Hold" Width="90px" />
                                    </td>
                                    <td>
                                        <asp:Label ID="lblBatchName" runat="server" Text="Batch Name" ></asp:Label>
                                    </td>
                                    <td>
                                        <asp:Label ID="lblagentname" runat="server" Text="Agent Name"></asp:Label>
                                    </td>
                                  
                                </tr>
                            </caption>
                        </table>
                    </fieldset>
                    <fieldset style="border: medium double #000080">
                        <legend>
                            <div style="font-size: 12px; font-family: 'Book Antiqua'; color: #FF0000;">
                                Customer Demographics
                            </div>
                        </legend>
                        <table bgcolor="#e1edf8" cellpadding="5" cellspacing="8" class="nav-justified" title="TATA AIA"
                            width="720">
                            <tr>
                                <td>
                                    <asp:Label ID="Label7" runat="server" class="label" Text="LEAD_NAME"></asp:Label>
                                </td>
                                <td>
                                

                                    <asp:TextBox ID="txtleadname" runat="server"  class="textbox" MaxLength="100"
                                        Width="176px" onkeypress="return /[a-zA-Z ]/i.test(event.key)" oncopy="return false" onpaste="return false"></asp:TextBox>
                                  
                                </td>
                                <td>
                                    <asp:Label ID="Label19" runat="server" class="label" Text="MOBILE_NO"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtmobile_hidden" runat="server"  class="textbox" MaxLength="10" 
                                        Width="176px" onkeypress="return /[0-9 ]/i.test(event.key)" oncopy="return false" onpaste="return false"></asp:TextBox>
                                        <asp:HiddenField ID="txtmobile" runat="server"></asp:HiddenField>
                                    <asp:Button ID="Button4" runat="server" Text="Dial" Width="50px" OnClick="Button4_Click" />
                                    <asp:Button ID="Button6" runat="server" Text="HangUp" Width="90px" OnClick="Button6_Click" />
                                </td>
                                <td>
                                    <asp:Label ID="Label16" runat="server" class="label" Text="LANDLINE_NO"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtlandlineno_hidden" runat="server" class="textbox"  
                                        Width="176px" MaxLength="10" onkeypress="return /[0-9 ]/i.test(event.key)" 
                                        oncopy="return false" onpaste="return false"></asp:TextBox>
                                    <asp:HiddenField ID="txtlandlineno" runat="server" />
                                    <asp:Button ID="Button5" runat="server" Text="Dial" Width="50px" OnClick="Button5_Click" />
                                    <asp:Button ID="Button7" runat="server" Text="HangUp" Width="90px" OnClick="Button7_Click" />
                                </td>
                                <tr>
                                    <td>
                                        <asp:Label ID="Label8" runat="server" class="label" Text="BIRTH_DATE"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtbirthdate" runat="server" class="textbox" ReadOnly="True" MaxLength="10"
                                            Width="176px"></asp:TextBox>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label9" runat="server" class="label" Text="CURRENT_AGE"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtage" runat="server" class="textbox" MaxLength="10" ReadOnly="false"
                                            Width="176px"></asp:TextBox>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label10" runat="server" class="label" Text="GENDER_CD"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtgender" runat="server" class="textbox" ReadOnly="false" Width="176px"></asp:TextBox>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <asp:Label ID="Label11" runat="server" class="label" Text="CURNT_ADDRESS1"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtcurraddress1" runat="server" MaxLength="30" class="textbox" ReadOnly="false"
                                            Width="176px" onkeypress="return /[a-zA-Z 0-9.,]/i.test(event.key)" oncopy="return false" onpaste="return false"></asp:TextBox>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label12" runat="server" class="label" Text="CURNT_ADDRESS2"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtcurraddress2" MaxLength="30" runat="server" class="textbox" ReadOnly="false"
                                            Width="176px" onkeypress="return /[a-zA-Z 0-9.,]/i.test(event.key)" oncopy="return false" onpaste="return false"></asp:TextBox>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label13" runat="server" class="label" Text="CURNT_ADDRESS3"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtcurraddress3" MaxLength="30" runat="server" class="textbox" ReadOnly="false"
                                            Width="176px" onkeypress="return /[a-zA-Z 0-9.,]/i.test(event.key)" oncopy="return false" onpaste="return false"></asp:TextBox>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <asp:Label ID="Label14" runat="server" class="label" Text="CURNT_LANDMARK"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtcurrdis" runat="server" MaxLength="30" class="textbox" Width="176px" Visible="false"
                                            ReadOnly="false" onkeypress="return /[a-zA-Z 0-9.,]/i.test(event.key)" oncopy="return false" onpaste="return false"></asp:TextBox>
                                            <asp:TextBox ID="txtcurrdisMasking1" runat="server" MaxLength="30" class="textbox" Width="176px"
                                            ReadOnly="false" onkeypress="return /[a-zA-Z 0-9.,]/i.test(event.key)" oncopy="return false" onpaste="return false"></asp:TextBox>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label15" runat="server" class="label" Text="CURNT_CITY"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtcurrcity" runat="server" class="textbox" Width="167px" Height="25px" ReadOnly = "true"
                                            onselectedindexchanged="txtcurrcity_SelectedIndexChanged" AllowCustomText="true" AutoPostBack="true"
                                        Filter="StartsWith" MarkFirstMatch="true"></asp:TextBox>
                                       <%-- <asp:DropDownList ID="txtcurrcity" runat="server" Width="167px" Height="25px" 
                                            onselectedindexchanged="txtcurrcity_SelectedIndexChanged" AllowCustomText="true" AutoPostBack="true"
                                        Filter="StartsWith" MarkFirstMatch="true">
                                        
                                    </asp:DropDownList>--%>
                                    <asp:Button ID="Button8" runat="server" BackColor="" class="btnsave" ForeColor="Black"
                                        Height="26px" OnClick="PinCode_Click" Visible ="false"
                                        Text="Check" />
                                        <asp:Label ID="lblServicablePincode" runat="server" class="label" Text="PincodeStatus"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label18" runat="server" class="label" Text="CURNT_STATE"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtcurrentstate" runat="server" class="textbox" MaxLength="30" Width="176px"
                                            ReadOnly="true" style="text-transform:uppercase;" onkeypress="return /[a-zA-Z]/i.test(event.key)" oncopy="return false" onpaste="return false"></asp:TextBox>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <asp:Label ID="Label17" runat="server" class="label" Text="CURNT_ZIP_CODE"></asp:Label>
                                    </td>
                                    <td>
                                       <asp:TextBox ID="txtcurrzip" runat="server" class="textbox" MaxLength="6" ReadOnly="false"
                                            Width="176px" onkeypress="return /[0-9]/i.test(event.key)" 
                                            oncopy="return false" onpaste="return false" 
                                            ontextchanged="txtcurrzip_TextChanged"></asp:TextBox>
                                            <asp:Button ID="Button9" runat="server" BackColor="" Visible="true" class="btnsave" ForeColor="Black"
                                            Height="26px" OnClick="PinCode_Click" Text="Check" />
                                        
<%--
                                            <asp:DropDownList ID="txtcurrzip" runat="server" Width="167px" Height="25px" 
                                            onselectedindexchanged="txtcurrcity_SelectedIndexChanged" AllowCustomText="true" AutoPostBack="true"
                                        Filter="StartsWith" MarkFirstMatch="true">
                                        
                                    </asp:DropDownList>--%>

                                    

<%--
                                              <asp:DropDownList ID="txtcurrzip" runat="server" Width="167px" Height="25px" 
                                            onselectedindexchanged="txtcurrcity_SelectedIndexChanged">--%>
                                   

                                   <%--<asp:DropDownList ID="txtcurrzip" runat="server" Width="167px" Height="25px" 
                                            onselectedindexchanged="txtcurrcity_SelectedIndexChanged">
                                        
                                    </asp:DropDownList>--%>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label20" runat="server" class="label" Text="EMAIL_ID"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtemailid_hidden" runat="server" class="textbox" Width="176px" ReadOnly="false"></asp:TextBox>
                                        <asp:HiddenField ID="txtemailid" runat="server" />

                                    </td>
                                    <td>
                                        <asp:Label ID="Label22" runat="server" class="label" Text="INCOME_GROUP_CD"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtincomegroup" runat="server" class="textbox" MaxLength="10" Width="176px"
                                            ReadOnly="false"></asp:TextBox>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <asp:Label ID="Label43" runat="server" class="label" Text="OCCUPATION_CD"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtoccupation" runat="server" class="textbox" MaxLength="10" Width="176px"
                                            ReadOnly="false"></asp:TextBox>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label50" runat="server" class="label" Text="MARITAL_STATUS_CD"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtmaritalstatus" runat="server" class="textbox" MaxLength="10"
                                            Width="176px" ReadOnly="True"></asp:TextBox>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label51" runat="server" class="label" Text="NO_OF_CHILDREN_CD"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtnochildren" runat="server" class="textbox" MaxLength="10" Width="176px"
                                            ReadOnly="false"></asp:TextBox>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <asp:Label ID="Label3" runat="server" class="label" Text="COMPANY_NAME"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtcompanyname" runat="server" class="textbox" MaxLength="10" Width="176px"
                                            ReadOnly="false" Visible="true"></asp:TextBox>
                                            
                                    </td>
                                    <td>
                                        <asp:Label ID="lblRejectedFlag" runat="server" class="label" Text="0"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label53" runat="server" class="label" Text="Source Name:-"></asp:Label>
                                    </td>
                                     <td>
                                        <asp:Label ID="lblcompanyname" runat="server" class="label" Text="Source" 
                                             BackColor="#FFFF80" Font-Bold="True" Font-Italic="True" ForeColor="Blue" Visible="True"></asp:Label>
                                    </td>
                                </tr>
                                <tr>
                                <td>
                                    <asp:Label ID="Label85" runat="server" class="label" Text="INSERTED DATE"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtInsertedDate" runat="server"  class="textbox"
                                                 Width="176px" ReadOnly="true"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="lblzone" BackColor="Yellow" ForeColor="Blue" runat="server" class="label" Text="Zone"></asp:Label>
                                </td>
                                <td>
                                    <asp:Label ID="lblstatus" Font-Size=Large Visible="false" runat="server" class="label" Text="Status"></asp:Label>
                                </td>
                                <td>
                                    <asp:Label ID="lblrefix" Font-Size=Large Visible="true" runat="server" class="label" Text="00"></asp:Label>
                                </td>
                                    <%-- <td>
                                    <asp:Label ID="Label21" runat="server" class="label" Text="EMPLOYEE_ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtemployeeid" runat="server"  class="textbox"
                                        MaxLength="10" Width="176px"></asp:TextBox>
                                </td>--%>
                                </tr>
                            </tr>
                        </table>
                    </fieldset>
                    <fieldset style="border: medium double #000080">
                        <legend>
                            <div style="font-size: 12px; font-family: 'Book Antiqua'; color: #FF0000;">
                                Plan Details
                            </div>
                        </legend>
                        <table bgcolor="#e1edf8" cellpadding="5" cellspacing="8" class="nav-justified" title="TATA AIA"
                            width="720">
                            <tr>
                                <td>
                                    <asp:Label ID="Label38" runat="server" class="label" Text="PRIMARY_POLICY_NO" ReadOnly="True"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtpripolicyno" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label25" runat="server" class="label" Text="POLICY NUMBER" ReadOnly="True"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtpolicynumber" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label28" runat="server" class="label" Text="POLICY STATUS DESCRIPTION"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtstatusdescription" runat="server" class="textbox" Width="176px"
                                        ReadOnly="True" MaxLength="10"></asp:TextBox>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <asp:Label ID="Label29" runat="server" class="label" Text="PREMIUM DUE DATE"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="radpremiumduedate" runat="server" class="textbox" MaxLength="10"
                                        Width="176px" ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label30" runat="server" class="label" Text="FUND NAME(ULIP)"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtfundname" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label31" runat="server" class="label" Text="PREMIUM PAID TILL DATE"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="pripaidtilldate" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <asp:Label ID="Label32" runat="server" class="label" Text="NEFT UPDATE (Y/N)"></asp:Label>
                                </td>
                                <td>
                                    <asp:DropDownList ID="radneft" runat="server" Height="16px" Width="155px">
                                        <asp:ListItem> </asp:ListItem>
                                        <asp:ListItem>Y</asp:ListItem>
                                        <asp:ListItem>N</asp:ListItem>
                                    </asp:DropDownList>
                                </td>
                                <td>
                                    <asp:Label ID="Label33" runat="server" class="label" Text="NOMINEE DETAILS (Y/N)"></asp:Label>
                                </td>
                                <td>
                                    <asp:DropDownList ID="radnomineedetails" runat="server" Width="167px">
                                        <asp:ListItem> </asp:ListItem>
                                        <asp:ListItem>Y</asp:ListItem>
                                        <asp:ListItem>N</asp:ListItem>
                                    </asp:DropDownList>
                                </td>
                                <td>
                                    <asp:Label ID="Label56" runat="server" class="label" Text="PRODUCT PITCHED"></asp:Label>
                                </td>
                                <td>
                                    <asp:DropDownList ID="DropProductPitch" runat="server" Width="167px">
                                        <asp:ListItem Text="" Value="Select"></asp:ListItem>
                                       <%-- <asp:ListItem Text="Term/Trop Plan" Value="Term/Trop Plan"></asp:ListItem>--%>
                                        <asp:ListItem Text="Term Plan-Insta Protect" Value="Term Plan-Insta Protect"></asp:ListItem>
                                        <asp:ListItem Text="FG+/Savings" Value="FG+/Savings"></asp:ListItem>
                                        <asp:ListItem Text="SIS Combo" Value="SIS Combo"></asp:ListItem>
                                         <asp:ListItem Text="ILP" Value="ILP"></asp:ListItem>
                                        <asp:ListItem Text="Others" Value="Others"></asp:ListItem>
                                               <asp:ListItem Text="FG Pension Plan" Value="FG Pension Plan"></asp:ListItem>
                                               <%--<asp:ListItem Text="Term Plan-New SRS" Value="Term Plan-New SRS"></asp:ListItem>--%>
                                               <%--<asp:ListItem Text="SRS Vitality Protect" Value="SRS Vitality Protect"></asp:ListItem>--%>
                                               <asp:ListItem Text="Smart Income Plus" Value="Smart Income Plus"></asp:ListItem>
                                               <asp:ListItem Text="Param Rakshak Pro" Value="Param Rakshak Pro"></asp:ListItem>
                                                <asp:ListItem Text="FG SUPREME" Value="FG SUPREME"></asp:ListItem>
                                               <asp:ListItem Text="Smart Saving Solution" Value="Smart Saving Solution"></asp:ListItem>
                                               <asp:ListItem Text="Pro Fit" Value="Pro Fit"></asp:ListItem>
                                               <asp:ListItem Text="BIZ_INSURANCE" Value="BIZ_INSURANCE"></asp:ListItem>
                                               <asp:ListItem Text="FGRR(Fortune Guarantee Retirement Ready)" Value="FGRR(Fortune Guarantee Retirement Ready)"></asp:ListItem>
                                               <asp:ListItem Text="Sampoorna Raksha Promise" Value="Sampoorna Raksha Promise"></asp:ListItem>
                                               <asp:ListItem Text="Smart Fortune Plus" Value="Smart Fortune Plus"></asp:ListItem>

                                    </asp:DropDownList>
                                </td>
                                <%--<td>
                                    <asp:Label ID="Label34" runat="server" class="label" Text="GST"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtgst" runat="server"  class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                   </tr>
                                <tr>
                                 <td>
                                    <asp:Label ID="Label35" runat="server" class="label" Text="PREMIUM"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtpremium" runat="server"  class="textbox" Width="176px"></asp:TextBox>
                                </td>
                             
                                <td>
                                    <asp:Label ID="Label36" runat="server" class="label" Text="APPLICATION_ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtapplicationid" runat="server"  class="textbox"
                                        Width="176px"></asp:TextBox>
                                </td>
                                 <td>
                                    <asp:Label ID="Label37" runat="server" class="label" Text="APP_SUB_TIME"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtappsubtime" runat="server"  class="textbox"
                                        Width="176px"></asp:TextBox>
                                </td>
                                 </tr>
                            <tr>
                                 <td>
                                    <asp:Label ID="Label42" runat="server" class="label" Text="SMOKER_FLAG"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtsmokerflag" runat="server"  class="textbox"
                                        Width="176px"></asp:TextBox>
                                </td>
                           
                              <td>
                                    <asp:Label ID="Label39" runat="server" class="label" Text="PAYMENT_ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtpaymentid" runat="server"  class="textbox"
                                        Width="176px"></asp:TextBox>
                                </td>
                                  <td>
                                    <asp:Label ID="Label40" runat="server" class="label" Text="PAYMENT_TIME"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtpaytimestamp" runat="server"  class="textbox"
                                        Width="176px"></asp:TextBox>
                                </td>
                                   </tr>
                                <tr>
                                 <td>
                                    <asp:Label ID="Label41" runat="server" class="label" Text="PAYMENT_STATUS"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtpaymentstatus" runat="server"  class="textbox"
                                        Width="176px"></asp:TextBox>
                                </td>

                             
                               
                                <td>
                                    <asp:Label ID="Label23" runat="server" class="label" Text="SIS_ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtsis_id" runat="server"  class="textbox" MaxLength="10"
                                        Width="176px"></asp:TextBox>
                                </td>
                                  <td>
                                    <asp:Label ID="Label24" runat="server" class="label" Text="SIS_SIGNED_TIME"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtsissigtime" runat="server"  class="textbox"
                                        Height="22px" MaxLength="10" Width="176px"></asp:TextBox>
                                </td>--%>
                                <%--    </tr>--%>
                                </tr>
                                <tr>
                                <td>
                                    <asp:Label ID="Label59" runat="server" class="label" Text="Product Name"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtProductName" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label60" runat="server" class="label" Text="RM Code"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtRmCode" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label61" runat="server" class="label" Text="Campaign Name"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtCampaignName" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>
                                </tr>
                                <tr>
                                <td>
                                    <asp:Label ID="Label62" runat="server" class="label" Text="Sub Campaign Name"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtSubCampaignName" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>

                                <td>
                                    <asp:Label ID="Label63" runat="server" class="label" Text="Pay Out Date"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtPayOutDate" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>
                                   <%-- <asp:Label ID="Label64" runat="server" class="label" Text="Var 1"></asp:Label>--%>
                                    <asp:Label ID="Label64" runat="server" class="label" Text="RM  Name"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtVar1" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>
                                </tr>
                                <tr>
                                <td>
                                    <asp:Label ID="Label65" runat="server" class="label" Text="Var 2"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtVar2" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>

                                <td>
                                    <asp:Label ID="Label66" runat="server" class="label" Text="Var 3"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtVar3" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>

                                <td>
                                    <asp:Label ID="Label80" runat="server" class="label" Text="Offer ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtOffer_Id" runat="server" class="textbox" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>

                                </tr>
                            </caption>
                        </table>
                    </fieldset>
                    <fieldset style="border: medium double #000080">
                        <legend>
                            <div style="font-size: 12px; font-family: 'Book Antiqua'; color: #FF0000;">
                                Other Details</div>
                        </legend>
                        <table bgcolor="#e1edf8" cellpadding="5" cellspacing="8" class="nav-justified" title="TATA AIA"
                            width="720">
                            <tr>
                                <td>
                                    <asp:Label ID="Label27" runat="server" class="label" Text="ANALYTIC_RECO_PRODUCT"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtanaltic" runat="server" class="textbox" MaxLength="10" Width="176px"
                                        ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label1" runat="server" class="label" Text="LEAD_SOURCE1_CD"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtleadsourceone" runat="server" class="textbox" MaxLength="10"
                                        ReadOnly="True" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label2" runat="server" class="label" Text="LEAD_SUB_SOURCE1_CD"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtleadsubsourceone" runat="server" class="textbox" MaxLength="10"
                                        ReadOnly="True" Width="176px"></asp:TextBox>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <asp:Label ID="Label4" runat="server" class="label" Text="LEAD_SOURCE2_CD"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtleadsourcetwo" runat="server" class="textbox" MaxLength="10"
                                        ReadOnly="True" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label5" runat="server" class="label" Text="LEAD_SOURCE3_CD "></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtleadsourcethree" runat="server" class="textbox" MaxLength="10"
                                        ReadOnly="True" Width="176px" Visible="false"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label6" runat="server" class="label" Text="PROPSED_SERVICE_TYPE_ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtpropsedservice" runat="server" class="textbox" MaxLength="10"
                                        ReadOnly="True" Width="176px"></asp:TextBox>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <asp:Label ID="Label26" runat="server" class="label" Text="TRIGGER_EVENT_ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txttrigger" runat="server" class="textbox" Width="176px" MaxLength="10"
                                        ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label49" runat="server" class="label" Text="AUD_TIME"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="Radaudtime" runat="server" class="textbox" Width="176px" ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label44" runat="server" class="label" Text="AUD_TYPE"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtaudtype" runat="server" class="textbox" Width="176px" ReadOnly="True"></asp:TextBox>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <asp:Label ID="Label45" runat="server" class="label" Text="ISSYNCED"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtissyned" runat="server" class="textbox" Width="176px" ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label21" runat="server" class="label" Text="ASSIGNED_TO"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtASSIGNEDTO" runat="server" class="textbox" Width="176px" ReadOnly="True"></asp:TextBox>
                                </td>
                                <td>ANNUAL INCOME</td>
                                <td>
                                    <asp:DropDownList ID="drpIncome" runat="server" Height="24px" Width="176px">
                                        <asp:ListItem> </asp:ListItem>
                                        <asp:ListItem>AI Not Disclosed</asp:ListItem>
                                        <asp:ListItem>No Income/Student /Unwaged</asp:ListItem>
                                        <asp:ListItem>0Lacs - 1Lacs</asp:ListItem>
                                        <asp:ListItem>1Lacs - 2Lacs</asp:ListItem>
                                        <asp:ListItem>2Lacs - 3Lacs</asp:ListItem>
                                        <asp:ListItem>3Lacs - 5Lacs</asp:ListItem>
                                        <asp:ListItem>5Lacs - 7.50Lacs</asp:ListItem>
                                        <asp:ListItem>7.50Lacs 10Lacs</asp:ListItem>
                                        <asp:ListItem>10Lacs - 15Lacs</asp:ListItem>
                                        <asp:ListItem>15Lacs - 20Lacs</asp:ListItem>
                                        <asp:ListItem>20Lacs - 25Lacs</asp:ListItem>
                                        <asp:ListItem>25Lacs - Above</asp:ListItem>
                                    </asp:DropDownList>
                                </td>
                                <%--<td>
                                    <asp:Label ID="Label46" runat="server" class="label" Text="CREATED_DTTM"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtcreateddttm" runat="server"  class="textbox"
                                        Width="176px"></asp:TextBox>
                                </td>--%>
                            </tr>
                            <tr>
                            <td>Product Pitched</td>
                                <td>
                                    <asp:DropDownList ID="DDProductPitch" runat="server" Height="24px" Width="176px">
                                        <asp:ListItem></asp:ListItem>
                                        <asp:ListItem>Yes</asp:ListItem>
                                        <asp:ListItem>NO</asp:ListItem>                                        
                                    </asp:DropDownList>
                                </td>
                                <td>
                                <%--<td>Language Barrier</td>--%>
                                <asp:Label ID="Language" runat="server" Visible="false" class="label" Text="Language Barrier"></asp:Label>
                                </td>
                                <td>
                                    <asp:DropDownList ID="DDLanguage" runat="server" Height="24px" Width="176px" Visible = "false">
                                        <asp:ListItem></asp:ListItem>
                                        <asp:ListItem>Tamil</asp:ListItem>
                                        <asp:ListItem>Bangla</asp:ListItem> 
                                        <asp:ListItem>Telgu</asp:ListItem>
                                        <asp:ListItem>Kannada</asp:ListItem>
                                        <asp:ListItem>Malayalam</asp:ListItem>
                                        <asp:ListItem>Others</asp:ListItem>
                                      
                                    </asp:DropDownList>
                                </td>

                                 <td>
                                <asp:Label ID="lblOccupation" runat="server" Visible="false" class="label" Text="Occupation"></asp:Label>
                                </td>
                                <td>
                                    <asp:DropDownList ID="DDOccupation" runat="server" Height="24px" Width="176px" Visible = "false">
                                        <asp:ListItem></asp:ListItem>
                                        <asp:ListItem>Salaried</asp:ListItem>
                                        <asp:ListItem>Self Employed</asp:ListItem>
                                      
                                    </asp:DropDownList>
                                </td>

                            </tr>
                            <tr>
                            <td>
                                <asp:Label ID="Label91" runat="server" Visible="true" class="label" Text="Meeting Type"></asp:Label>
                                </td>
                                <td>
                                    <asp:DropDownList ID="DDMeetingType" runat="server" Height="24px" Width="176px" Visible = "true">
                                        <asp:ListItem></asp:ListItem>
                                        <asp:ListItem>Direct Visit (F2F)</asp:ListItem>
                                        <asp:ListItem>Call Before Visit (Digital Lead)</asp:ListItem> 
                                        <asp:ListItem>Direct Visit - Hot lead</asp:ListItem>                                        
                                      
                                    </asp:DropDownList>
                                </td>
                            </tr>
                        </table>
                    </fieldset>
                    <fieldset style="border: medium double #000080">
                        <legend>
                            <div style="font-size: 12px; font-family: 'Book Antiqua'; color: #FF0000;">
                                Complaint Details</div>
                        </legend>
                        <table bgcolor="#e1edf8" cellpadding="5" cellspacing="8" class="nav-justified" title="TATA AIA"
                            width="720">
                            <tr>
                                <td>
                                    <asp:Label ID="Label37" runat="server" class="label" Text="Existing Policy No"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtExistingPolicyNo" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label39" runat="server" class="label" Text="Customer Name"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtCustomerName" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label40" runat="server" class="label" Text="Customer Contact Details"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtCustomerContactDetails" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label41" runat="server" class="label" Text="Service Request No"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtServiceRequestNo" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <tr>
                                    <td>
                                        <asp:Label ID="Label42" runat="server" class="label" Text="Medium through which SR raised"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtMediumthroughwhichSRraised" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label46" runat="server" class="label" Text="Nature of Service / complaint / query"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtnature" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label52" runat="server" class="label" Text="Sent to HO Date"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtSenttoHODate" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                    </td>
                                    <td>
                                        <asp:Label ID="Label54" runat="server" class="label" Text="PFA Code:-"></asp:Label>
                                    </td>
                                    <td>
                                        <asp:TextBox ID="txtLeadToken" runat="server" class="textbox" Width="176px" ReadOnly="True"></asp:TextBox>
                                    </td>
                                      <td>
                                        <asp:Label ID="LabelLeadCountry" runat="server" class="label" Text=""></asp:Label>
                                    </td>
                                </tr>
                            </tr>
                        </table>
                    </fieldset>
<fieldset style="border: medium double #000080">
                        <legend>
                            <div style="font-size: 12px; font-family: 'Book Antiqua'; color: #FF0000;">
                                Complaint Details</div>
                        </legend>
                        <table bgcolor="#e1edf8" cellpadding="5" cellspacing="8" class="nav-justified" title="TATA AIA"
                            width="720">
                            <tr>
<td>
                                    <asp:Label ID="Label48" runat="server" class="label" Text="Remarks"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtremarks" runat="server" Enabled="True" class="textbox" Width="900px"  
                                        Height="40px" MaxLength="250" ontextchanged="txtremarks_TextChanged" onkeypress="return /[a-zA-Z0-9 ,.]/i.test(event.key)"
                                       style="text-transform:uppercase;"></asp:TextBox>
                                </td>
                                </tr>
                                <tr>
                                <td>
                                <asp:Label ID="Label58" runat="server" class="label" Text="Campaign Remarks" ></asp:Label>
                                </td>
                                <td>
                                    <asp:Label ID="lblCampaignRemarks" runat="server" class="label" Text="" ForeColor="Red" Font-Size="Large"></asp:Label>
                                </td>



 </tr>
                        </table>
                    </fieldset>

                    <fieldset style="border: medium double #000080">
                        <legend>
                            <div style="font-size: 12px; font-family: 'Book Antiqua'; color: #FF0000;">
                                Disposition Details</div>
                        </legend>
                        <table bgcolor="#CCCCFF" cellpadding="5" cellspacing="8" class="nav-justified" title="TATA AIA"
                            width="720">
                            <tr>
                                <td>
                                    <asp:Label ID="Label146" runat="server" class="label" Text="Category"></asp:Label>
                                </td>
                                <td>
                                    <telerik:RadComboBox ID="radCategory" runat="server" AllowCustomText="true" AutoPostBack="true"
                                        Filter="StartsWith" MarkFirstMatch="true" OnSelectedIndexChanged="radCategory_SelectedIndexChanged"
                                        Width="150px" onkeypress="javascript:return isNumber(event)">
                                    </telerik:RadComboBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label186" runat="server" class="label" Text="Disposition"></asp:Label>
                                </td>
                                <td>
                                    <telerik:RadComboBox ID="radDisposition" runat="server" AllowCustomText="true" AutoPostBack="true"
                                        Filter="StartsWith" MarkFirstMatch="true" Width="150px" 
                                        OnSelectedIndexChanged="radDisposition_SelectedIndexChanged1" 
                                        onkeypress="javascript:return isNumber(event)" style="height: 16px">
                                    </telerik:RadComboBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label47" runat="server" class="label" Text="Subdisposition"></asp:Label>
                                </td>
                                <td>
                                    <telerik:RadComboBox ID="RadSubdisposition" runat="server" AllowCustomText="true"
                                        AutoPostBack="true" Filter="StartsWith" MarkFirstMatch="true" Width="150px" OnSelectedIndexChanged="RadSubdisposition_SelectedIndexChanged" onkeypress="javascript:return isNumber(event)">
                                    </telerik:RadComboBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label57" runat="server" class="label" Text="Reason"></asp:Label>
                                </td>
                                <td>
                                   <telerik:RadComboBox ID="Radreason" runat="server" AllowCustomText="true"
                                        AutoPostBack="true" Filter="StartsWith" MarkFirstMatch="true" Width="150px" Enabled="false" onkeypress="javascript:return isNumber(event)">
                                        <Items>
                                        <telerik:RadComboBoxItem Text="" Value="" />
                                        <telerik:RadComboBoxItem Text="Less than 3 Lac" Value="Less than 3 Lac" />
                                        <telerik:RadComboBoxItem Text="More than 3 Lac" Value="More than 3 Lac" />
                                        </Items>
                                    </telerik:RadComboBox>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <asp:Label ID="Label23" runat="server" class="label" Text="Appointment Date"></asp:Label>
                                </td>
                                <td style="margin-left: 40px">
                                    <telerik:RadDateTimePicker ID="RadappointmentDate" runat="server" CssClass="boxes"
                                        Culture="en-US" Enabled="True" Height="20px" MinDate="1990-01-01" PopupDirection="BottomLeft"
                                        Width="170px" />
                                </td>
                                <td>
                                    <asp:Label ID="Label24" runat="server" class="label" Text="Appointment Start Time"></asp:Label>
                                </td>
                                <td>
                                    <%--<telerik:RadDateTimePicker ID="RadappointmentStartTime" runat="server" CssClass="boxes"
                                        Culture="en-US" Height="23px" MinDate="1990-01-01" PopupDirection="BottomLeft"
                                        Width="170px" FocusedDate="1990-01-01">
                                    </telerik:RadDateTimePicker>--%>
                                    <%--<telerik:RadDateTimePicker ID="RadDateTimePicker1" Runat="server"  
        Culture="English (United States)"> 
        <TimeView TimeFormat="HH:mm:ss"> 
        </TimeView> 
          </telerik:RadDateTimePicker>--%>
                                    <telerik:RadDateTimePicker ID="RadappointmentStartTime" runat="server" Culture="English (United States)">
                                        <TimeView TimeFormat="HH:mm:ss" runat="server">
                                        </TimeView>
                                        <DateInput InvalidStyleDuration="100" runat="server" DisplayDateFormat="HH:mm:ss">
                                        </DateInput>
                                    </telerik:RadDateTimePicker>
                                </td>
                                <td>
                                    <asp:Label ID="Label34" runat="server" class="label" Text="Appointment End Time"></asp:Label>
                                </td>
                                <td>
                                    <telerik:RadDateTimePicker ID="RadappointmentEndTime" runat="server" Culture="English (United States)">
                                        <TimeView ID="TimeView1" TimeFormat="HH:mm:ss" runat="server">
                                        </TimeView>
                                        <DateInput ID="DateInput1" InvalidStyleDuration="100" runat="server" DisplayDateFormat="HH:mm:ss">
                                        </DateInput>
                                    </telerik:RadDateTimePicker>
                                </td>
                                <td>
                                    <asp:Label ID="Label76" runat="server" class="label" Text="Call Back"></asp:Label>
                                </td>
                                <td>
                                    <telerik:RadDateTimePicker ID="radPKPickupCallBack" runat="server" CssClass="boxes"
                                        Culture="en-US" Enabled="True" Height="20px" MinDate="1990-01-01" PopupDirection="BottomLeft"
                                        Width="170px" />
                                </td>
                                
                            </tr>
                            <tr>
                                <td>
                                    <asp:Label ID="Label35" runat="server" class="label" Text="Ver_Remarks"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtverremarks" runat="server" class="textbox" Enabled="False" Height="64px"
                                        TextMode="MultiLine" Width="178px" ></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label36" runat="server" class="label" Text="Product Pitched"></asp:Label>
                                    <asp:CheckBox ID="ChkPiched" runat="server" AutoPostBack="True" OnCheckedChanged="ChkPiched_CheckedChanged" />
                                </td>
                                <td>
                                    <asp:Label ID="lblcbTermRider" runat="server" class="label" Text="Term Rider"></asp:Label>
                                    <asp:CheckBox ID="cbTermRider" ForeColor="Red" runat="server" AutoPostBack="True"
                                        OnCheckedChanged="cbTermRider_CheckedChanged" />
                                </td>
                                <td>
                                    <asp:Label ID="lblLeadType" runat="server" class="label" Text="Lead Type"></asp:Label>
                                </td>
                                <td>
                                    <asp:DropDownList ID="ddlLeadType" runat="server" Height="20px" Width="155px">
                                    </asp:DropDownList>
                                </td>
                                <td>
                                    <asp:Button ID="btnClose" runat="server" BackColor="#000099" class="btnsave" ForeColor="White"
                                        Height="26px" OnClick="btnClose_Click" OnClientClick="return confirm('Are you sure you want to Wrap Up this call...!!!');"
                                        Text="Wrapup Call" />
                                </td>

                                <td>
                                    <asp:Label ID="leadcount" runat="server" class="label" Text="0"></asp:Label>
                                </td>
                                <td>
                                    <asp:HiddenField ID="strdispcodevalues" runat="server" />
                                </td>
                        </table>
                    </fieldset>
                    </table>
                </telerik:RadPageView>
                <telerik:RadPageView ID="MasterDetails2" runat="server" Height="750px" >
                <fieldset style="border: medium double #000080">
                        <legend>
                            <div style="font-size: 12px; font-family: 'Book Antiqua'; color: #FF0000;">
                                 Details</div>
                        </legend>
<table class="nav-justified" cellspacing="8" cellpadding="5" title="TATA AIA" bgcolor="#e1edf8">

<tr>
                                <td>
                                    <asp:Label ID="Label69" runat="server" class="label" Text="WM LEAD"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtWM_LEAD" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label70" runat="server" class="label" Text="BUSINESS TYPE ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtBUSINESS_ID" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label71" runat="server" class="label" Text="Flow"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtFlow" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label72" runat="server" class="label" Text="GC PASA FLAG"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtGC_PASA_FLAG" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label73" runat="server" class="label" Text="API LEAD ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtApiLeadId" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                </tr>

                                <tr>
                                <td>
                                    <asp:Label ID="Label74" runat="server" class="label" Text="LEAD CREATED DTTM"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtLEAD_CREATED_DTTM" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label75" runat="server" class="label" Text="LEAD STATUS1"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtLEAD_STATUS1" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label77" runat="server" class="label" Text="DOB"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtDOB" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label78" runat="server" class="label" Text="OFFER LINK"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtOfferLink" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label79" runat="server" class="label" Text="OPPORTUNITY ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtOPPORTUNITY_ID" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                </tr>

                                

                                <tr>
                                <td>
                                    <asp:Label ID="Label86" runat="server" class="label" Text="SIS SIGNED TIMESTAMP"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtSIS_SIGNED_TIMESTAMP" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label87" runat="server" class="label" Text="PLAN CODE"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtPlan_Code" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label88" runat="server" class="label" Text="SUM ASSURED"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtSUM_ASSURED" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label89" runat="server" class="label" Text="POLICY TERM"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtPOLICY_TERM" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label90" runat="server" class="label" Text="PREMIUM PAYMENT TERM"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtPRE_PAY_TERM" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                </tr>

                                <tr>
                                <td>
                                    <asp:Label ID="Label93" runat="server" class="label" Text="PREMIUM MODE"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtPRE_MODE" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label94" runat="server" class="label" Text="PREMIUM BASE"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtPRE_BASE" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label95" runat="server" class="label" Text="GST"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtGST" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label96" runat="server" class="label" Text="PREMIUM"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtPREMIUM" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label97" runat="server" class="label" Text="APPLICATION ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtAPPLICATION_ID" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                </tr>

                                <tr>
                                <td>
                                    <asp:Label ID="Label98" runat="server" class="label" Text="APP SUBMITTED TIMESTAMP"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtAPPSUBMITTED_TIME" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label99" runat="server" class="label" Text="PAYMENT ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtPAYMENT_ID" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label100" runat="server" class="label" Text="PAYMENT TIMESTAMP"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtPAYMENT_TIME" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label101" runat="server" class="label" Text="PAYMENT STATUS"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtPAYMENT_STATUS" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label102" runat="server" class="label" Text="SMOKER FLAG"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtSMOKER_FLAG" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                </tr>

                                <tr>
                                <td>
                                    <asp:Label ID="Label103" runat="server" class="label" Text="INTERACTION ID"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtINTERACTION_ID" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label104" runat="server" class="label" Text="EVENT NAME"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtEVENT_NAME" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                <td>
                                    <asp:Label ID="Label105" runat="server" class="label" Text="CREATED_DTTM"></asp:Label>
                                </td>
                                <td>
                                    <asp:TextBox ID="txtCREATED_DTTM" runat="server" class="textbox" Width="176px"></asp:TextBox>
                                </td>
                                </tr>
</table>
   </fieldset>
                </telerik:RadPageView>
                <telerik:RadPageView ID="HISTORY" runat="server" Height="750px" >
                    <asp:GridView ID="GrdHistory" runat="server" CssClass="table table-striped table-bordered dt-responsive nowrap"
                        AutoGenerateColumns="false" OnRowDataBound="GrdHistory_RowDataBound" Width="1014px">
                        <Columns>
                            <asp:BoundField DataField="lead_id" HeaderText="lead id" />
                            <asp:BoundField DataField="lead_last_agent_name" HeaderText="Agent Name" />
                            <asp:BoundField DataField="Category" HeaderText="Category" />
                            <asp:BoundField DataField="Disposition" HeaderText="Disposition" />
                            <asp:BoundField DataField="Subdisposition" HeaderText="Subdisposition" />
                            <asp:BoundField DataField="lead_last_dial_time" HeaderText="Call Date" />
                            <asp:BoundField DataField="lead_remarks" HeaderText="Remarks" />
                            <%--<asp:BoundField DataField="lead_phone" HeaderText="MobileNo" />--%>
                            <asp:BoundField DataField="callback" HeaderText="callbackdate" />
                        </Columns>
                    </asp:GridView>
                </telerik:RadPageView>
                <telerik:RadPageView ID="OUTNOTEPAD" runat="server" Height="750px">
                    <asp:TextBox ID="txtnotepad" runat="server" BackColor="White" BorderColor="#33CCCC"
                        BorderStyle="Double" Height="570px" TextMode="MultiLine" Width="919px" AutoPostBack="true"
                        OnTextChanged="txtnotepad_TextChanged"></asp:TextBox>
                </telerik:RadPageView>
                <telerik:RadPageView ID="Scripts" runat="server" Height="700px">
                    <iframe id="Iframe4" runat="server" frameborder="0" name="ifRightPane" scrolling="yes"
                        width="100%" height="95%"></iframe>
                </telerik:RadPageView>
                <telerik:RadPageView ID="Xlite" runat="server" Height="700px">
                    <iframe id="Iframe1" runat="server" frameborder="0" name="ifRightPane" scrolling="yes"
                        width="100%" height="95%"></iframe>
                </telerik:RadPageView>
            </telerik:RadMultiPage>
        </div>
    </form>
</body>
</html>


==============================C# code

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Data.SqlClient;
using System.Configuration;
using System.Data;
using Telerik.Web.UI;
using System.Net;
using System.IO;
using System.Text;
using System.Globalization;
using System.Data.Odbc;
using System.Drawing;
using System.Diagnostics;
using System.Web.UI.HtmlControls;
using System.Web.UI.Adapters;
using System.Web.Util;
using System.Text.RegularExpressions;

public partial class TATA_AIG : System.Web.UI.Page
{

    SqlConnection con = new SqlConnection(ConfigurationManager.ConnectionStrings["Constring"].ConnectionString);

    SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["Constring1"].ConnectionString);

    SqlConnection sqlIntcon = new SqlConnection(ConfigurationManager.ConnectionStrings["INTERD"].ConnectionString);
    string strQuery = "";
    public string strInsertSatus = "Y";
    int myServiceId = 0;
    int GenericLeadId = 0;
    string strTableName = "";
    string strDbName = "";
    string strLeadID, strlead_ID, strCallType, strHost, strServiceID, strCallNumber, NextDialTime, CallNumber, strdispcode = "", DNI = "";
    string dtm2 = "";
    string strDispParam = "";
    string id = "";

    DateTime dt1, dt3;
    string dtm1 = "", dtm3 = "";


    protected void Page_Load(object sender, EventArgs e)
    {
        //DateTime dtime = new DateTime();
        //dtime = System.DateTime.Now;
        //string Properdatetime = dtime.ToString("HH:mm:ss");
        //try
        //{
        //    RadDateTimePicker1.SelectedDate = Convert.ToDateTime(Properdatetime);
        //}
        //catch (Exception ex)
        //{

        //    throw (ex);
        //}
        //notepad();

        try
        {
            strHost = Convert.ToString(Session["HOSTID"].ToString());
        }
        catch
        {


        }
        try
        {
            CallNumber = Convert.ToString(Session["CallNumber"].ToString());

        }
        catch
        {


        }



        try
        {
            strServiceID = Convert.ToString(Session["serviceid"].ToString());
        }
        catch
        {


        }
        try
        {
            strlead_ID = Convert.ToString(Session["LeadId"].ToString());
        }


        catch
        {

            //throw;
        }
        //lblagentname.Text = (string)Session["lblAgentStatusValue"];
        txtleadid1.Text = strlead_ID;
        lblagentname.Text = (string)Session["Agentname"];
        try
        {
            //notepad();
            //DisplayNotepadOutbound();
            //lblleadid.Text = Convert.ToString(Session["LeadId"].ToString());
            Session["CallMobNo"] = txtmobile1.Value = Convert.ToString(Request.QueryString["CLI"]);
            Session["strcalltypes"] = strCallType = Convert.ToString(Session["CALLTYPE"]);

            // txtmobile1.Value = "9012346575";

        }
        catch
        {

            // throw;
        }

        if (!IsPostBack != true)
        {
            
        }
        else
        {
            notepad();
            leadload_select();
            bindLeadTypeInDDL();
            //getCity_Name();
            if (lblBatchName.Text == "TAIA_WEB_MARKET" || lblBatchName.Text == "WBMKT_ONLINE" || lblBatchName.Text == "WBMKT_OFFLINE" || lblBatchName.Text == "WEB_GOOGLE" || lblBatchName.Text == "FG_ONLINE" || lblBatchName.Text == "FG_OFFLINE" || lblBatchName.Text == "WEBGGL_OFF" || lblBatchName.Text == "TES_SRS")
            {
                if (con.State == ConnectionState.Open) con.Close(); con.Open();

                using (SqlCommand cmd = new SqlCommand("USP_DISPLAY_Campaign_name", con))
                {
                    cmd.CommandType = CommandType.StoredProcedure;
                    SqlParameter disp = cmd.Parameters.AddWithValue("@campaingname", txtcompanyname.Text);
                    using (SqlDataReader dr = cmd.ExecuteReader())
                    {
                        if (dr.HasRows == true)
                        {
                            while (dr.Read())
                            {

                                txtleadsourcethree.Text = dr["UTM_SOURCE"].ToString();
                                lblcompanyname.Text = dr["UTM_SOURCE"].ToString();
                            }
                        }
                    }
                }
            }
        }

        //lblBatchName.Text = "DSF_AGENCY";

        //leadload_select();
        getLeadID();
        getDisp();

        if (lblBatchName.Text == "ADB_AGCY" || lblBatchName.Text == "ABD_AGCY")
        {

          getDisp_AGCY();

        }
        
        
        
        if (IsPostBack)
        {
            
           // getCity();
          //  getCity();
        }
        fillhistory();
        // txtmobile1.Value = "9012346575";
        //getDisposition();
        ((HtmlControl)(form1.FindControl("Iframe1"))).Attributes["src"] = "http://172.16.0.52:981/XLite_KB/";
        ((HtmlControl)(form1.FindControl("Iframe4"))).Attributes["src"] = "http://172.16.0.52:981/TATA%20_KB/TATAAIA_KB.htm";
       // ((HtmlControl)(form1.FindControl("Iframe4"))).Attributes["src"] = "http://172.16.0.81/TATA_KB/TATAAIA_KB.htm";
        btnClose.OnClientClick = @"if(this.value == 'Please wait...')
           return false;
           this.value = 'Please wait...';";


        if (lblBatchName.Text == "DSF_AGENCY")
        {
            RadappointmentDate.MaxDate = DateTime.Today.AddHours(72);
            RadappointmentDate.MinDate = DateTime.Today;
        }
        else
        {
            //RadappointmentDate.MaxDate = DateTime.Today.AddHours(47);
            RadappointmentDate.MaxDate = DateTime.Today.AddHours(71);
            RadappointmentDate.MinDate = DateTime.Today;
        }

        if (!IsPostBack)
        {
        
        }
    }

    private void bindLeadTypeInDDL()
    {
        DataSet dsLeadType = new DataSet();
        SqlCommand cmdLeadType = new SqlCommand("USP_TATAAIA", con);
        cmdLeadType.Parameters.AddWithValue("@Operation", "bindLeadTypeInDDL");
        cmdLeadType.CommandType = CommandType.StoredProcedure;
        SqlDataAdapter daLeadType = new SqlDataAdapter(cmdLeadType);
        daLeadType.Fill(dsLeadType);

        ddlLeadType.DataTextField = "LeadType";
        ddlLeadType.DataValueField = "Id";

        //ddlLeadTypeTATAAIA.DataTextField = "LeadType";
        //ddlLeadTypeTATAAIA.DataValueField = "Id";
        if (dsLeadType.Tables[0].Rows.Count > 0 && dsLeadType.Tables[0] != null)
        {
            ddlLeadType.DataSource = dsLeadType;
            ddlLeadType.DataBind();
            //ddlLeadTypeTATAAIA.DataSource = dsLeadType;
            //ddlLeadTypeTATAAIA.DataBind();
        }
        else
        {
            ddlLeadType.DataSource = null;
            ddlLeadType.DataBind();
            //ddlLeadTypeTATAAIA.DataSource = null;
            //ddlLeadTypeTATAAIA.DataBind();
        }

    }

    protected void btnClose_Click(object sender, EventArgs e)
    {
        if (lblBatchName.Text == "DSF_AGENCY")
        {
          if (Convert.ToString(strdispcodevalues.Value) == "APMT")
          {
              int dt11 = RadappointmentDate.SelectedDate.Value.Day;
              int dt123 = DateTime.Today.Day;
          
              if (dt11 >= dt123 + 3)
              {
                  Response.Write("<script>alert('Only T+2 Date is Selectable')</script>");
                  return;
              }
          
              if (RadappointmentDate.SelectedDate < DateTime.Today)
              {
                  Response.Write("<script>alert('Only T+2 Date is Selectable')</script>");
                  return;
              }
          }
        }

        if (radDisposition.Text == "Lead Success" || radDisposition.Text == "NON SERVICEABLE")
        {
            if (txtcurrzip.Text != "")
            {
                if (txtcurrzip.Text.Length < 6)
                {
                    Response.Write("<script>alert('Pincode is less than 6 digit')</script>");
                    return;
                }
            }
        }

        if (radDisposition.Text == "NON SERVICEABLE")
        {
            if (txtcurrzip.Text == "")
            {
                Response.Write("<script>alert('Pincode is Blank')</script>");
                return;
            }
        }


        if (lblServicablePincode.Text == "Non Serviceable" && lblBatchName.Text != "DSF_AGENCY")
        {
            if (radDisposition.Text != "NON SERVICEABLE")
            {
                Response.Write("<script>alert('Kindly Select NON SERVICEABLE Disposition')</script>");
                return;
            }
        }

        if (lblServicablePincode.Text == "Serviceable")
        {
            if (radDisposition.Text == "NON SERVICEABLE")
            {
                Response.Write("<script>alert('Kindly Select Correct Disposition')</script>");
                return;
            }
        }


        if (txtremarks.Text == "")
        {
            Response.Write("<script>alert('Kindly fill the Remarks')</script>");
            return;
        }
        
  
        if (Convert.ToString(strdispcodevalues.Value) == "CBAP" || Convert.ToString(strdispcodevalues.Value) == "PDDFU" || strdispcodevalues.Value == "CBFFU" || strdispcodevalues.Value == "CAFBEF" || strdispcodevalues.Value == "CNARN" || strdispcodevalues.Value == "CCBA" || strdispcodevalues.Value == "CCBFC" || strdispcodevalues.Value == "CBK" || strdispcodevalues.Value == "CCBP" || strdispcodevalues.Value == "CBCA")
        {
            try
            {


                int Timeonly = radPKPickupCallBack.SelectedDate.Value.Hour;
                int minute = radPKPickupCallBack.SelectedDate.Value.Minute;
                //txtFirstName.Text = Timeonly.ToString();
                if (Timeonly < 10)
                {
                    Response.Write("<script>alert('callback should not be less than 10:00 AM ')</script>");
                    return;
                }

                if (Timeonly >= 19)
                {
                    if (minute > 30)
                    {
                        Response.Write("<script>alert('callback should not be greter than 07:30 PM ')</script>");
                        return;
                    }
                }

                if (Timeonly >= 20)
                {
                    {
                        Response.Write("<script>alert('callback should not be greter than 07:30 PM ')</script>");
                        return;
                    }
                }
            }
            catch
            {

                //throw;
            }

        }

        if (Convert.ToString(strdispcodevalues.Value) == "CBAP" || Convert.ToString(strdispcodevalues.Value) == "PDDFU" || strdispcodevalues.Value == "CBFFU" || strdispcodevalues.Value == "CAFBEF" || strdispcodevalues.Value == "CNARN" || strdispcodevalues.Value == "CCBA" || strdispcodevalues.Value == "CCBFC" || strdispcodevalues.Value == "CBK" || strdispcodevalues.Value == "CCBP" || strdispcodevalues.Value == "CBCA")
        {
            DateTime dt11 = radPKPickupCallBack.SelectedDate.Value;

            DateTime dt123 = DateTime.Today.AddDays(30);

            if (dt11 >= dt123)
            {
                Response.Write("<script>alert('Only T+30 Date is Selectable')</script>");
                return;
            }

            if (radPKPickupCallBack.SelectedDate < DateTime.Today)
            {
                Response.Write("<script>alert('Only T+30 Date is Selectable')</script>");
                return;
            }
        } 
        
        
        
        
      
        if (RadSubdisposition.Text == "Appointment" && lblServicablePincode.Text == "Non Serviceable" && lblBatchName.Text != "DSF_AGENCY")
        {
            Response.Write("<script>alert('Appointment can not be generated on Non Serviceable Pincode')</script>");
            return;
        }

        if (radDisposition.Text == "Lead success")
        {
            if (DDMeetingType.Text == "")
            {
                Response.Write("<script>alert('Please select Meeting Type')</script>");
                return;
            }

        }

        //if (txtleadid1.Text == "" || txtleadid1.Text == "0")
        //{
        //    Response.Write("<script>alert('Lead Id Is Blank')</script>");
        //    return;
        //}

        //if (lblagentname.Text == "" || lblagentname.Text == "Agent Name")
        //{

        //    Response.Write("<script>alert('Agent Id Is Blank')</script>");
        //    return;

        //}

        if (LabelLeadCountry.Text == "Recall")
        {
            if (RadSubdisposition.Text != "Recall" || RadSubdisposition.Text != "RadSubdispositionP")
            {
                Response.Write("<script>alert('Kindly Select Disposition Recall Or Reject')</script>");
                return;
            }
        }

        if (LabelLeadCountry.Text != "Recall")
        {
            if (RadSubdisposition.Text == "Recall" || RadSubdisposition.Text == "Reject")
            {
                Response.Write("<script>alert('Do Not Select Disposition Recall Or Reject')</script>");
                return;
            }
        }
        
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (DDOccupation.Text == "")
            {
                Response.Write("<script>alert('Please Enter Occupation')</script>");
                return;
            }
        }
        
        if (radDisposition.Text == "Language Barrier")
        {
            if (DDLanguage.Text == "")
            {
                Response.Write("<script>alert('Please Select the Language Barrier')</script>");
                return;

            }
        }

        if (radDisposition.Text == "Lead success")
        {
            if (ddlLeadType.SelectedValue == "0")
            {
                Response.Write("<script>alert('Please select Lead Type')</script>");
                return;
            }

        }

        //if (radDisposition.Text == "Lead success")
        //{
        //    if (txtcurrzip.Text.Length < 6)
        //    {
        //        Response.Write("<script>alert('Pincode is less than 6 digit')</script>");
        //        return;
        //    }

        //}

        if (radDisposition.Text == "Lead success")
        {
            if (txtmobile_hidden.Text.Length < 10)
            {
                Response.Write("<script>alert('Mobile No is less than 10 digit')</script>");
                return;
            }

        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            int dt11 = RadappointmentDate.SelectedDate.Value.Day;
            int dt123 = DateTime.Today.Day;

            string C = RadappointmentDate.SelectedDate.Value.Date.ToShortDateString();

            if (C == "01-05-2025")
            {
                Response.Write("<script>alert('1 Nov Date Should Not Selectable')</script>");
                return;
            }

            if (dt11 >= dt123 + 3)
            {
                Response.Write("<script>alert('Only T+2 Date is Selectable')</script>");
                return;
            }

            if (RadappointmentDate.SelectedDate < DateTime.Today)
            {
                Response.Write("<script>alert('Only T+2 Date is Selectable')</script>");
                return;
            }
          
            //if (dt11 >= dt123 + 2)
            //{
            //    Response.Write("<script>alert('Only T+1 Date is Selectable')</script>");
            //    return;
            //}

            //if (RadappointmentDate.SelectedDate < DateTime.Today)
            //{
            //    Response.Write("<script>alert('Only T+1 Date is Selectable')</script>");
            //    return;
            //}
        }
        if (lblBatchName.Text != "TES_DSF_PFA")
        {

            if (Convert.ToString(strdispcodevalues.Value) == "ATBT" || Convert.ToString(strdispcodevalues.Value) == "ATBNT")
            {
                if (lblServicablePincode.Text == "" || lblServicablePincode.Text == "PincodeStatus")
                {
                    Response.Write("<script>alert('Please Enter pincode')</script>");
                    return;
                }
            }
        }

        //|| lblServicablePincode.Text == "PincodeStatus" 
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (lblBatchName.Text != "TES_DSF_PFA" || lblBatchName.Text != "WBMKT_URJA")
            {


                if (lblBatchName.Text != "ADOB_NFO")
                {
                    if (lblBatchName.Text != "ADOB_SME")
                    {
                        if (lblBatchName.Text != "ADOB_ECM")
                        {
                            if (lblBatchName.Text != "ADOB_CROSS")
                            {
                                if (lblBatchName.Text != "BIZ_PFAFEB23")
                                {
                                    if (lblBatchName.Text != "DSF_AGENCY")
                                    {
                                        if (lblServicablePincode.Text == "Non Serviceable")
                                        {
                                            Response.Write("<script>alert('Non Serviceable Pincode')</script>");
                                            return;
                                        }

                                        if (lblServicablePincode.Text == "" || lblServicablePincode.Text == "PincodeStatus")
                                        {
                                            Response.Write("<script>alert('Please Enter pincode')</script>");
                                            return;
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                
            }

            if (txtcurrcity.Text == "")
            {
                Response.Write("<script>alert('Please Select The City')</script>");
                return;
            }

            if (txtcurrentstate.Text == "")
            {
                Response.Write("<script>alert('Please Select The State')</script>");
                return;
            }

            //txtcurrzip
            if (txtcurrzip.Text == "")
            {
                Response.Write("<script>alert('Please Enter Pincode')</script>");
                return;
            }
        }



        System.Threading.Thread.Sleep(2000);
        //if (radCategory.SelectedItem.Text == "" || radDisposition.SelectedItem.Text == "" || RadSubdisposition.SelectedItem.Text == "")
        if (radCategory.Text == "" || radDisposition.Text == "" || RadSubdisposition.Text == "")
        {
            Response.Write("<script>alert('Please select Disposions ')</script>");
            return;
        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (txtcurrzip.Text.Length < 6)
            {
                Response.Write("<script>alert('Zipcode should be 6 charachters only')</script>");
                return;
            }

        }

        if (radCategory.Text == "Contactable" && (DDProductPitch.Text == "" ||DDProductPitch.SelectedItem == null ))
        {
          Response.Write("<script>alert('Please Select Product Pitch')</script>");
                return;
        }

        DateTime dt2, dt3;
        string dtm2 = "";
        string dtm3 = "";

        if (Convert.ToString(strdispcodevalues.Value) == "CBAP" || Convert.ToString(strdispcodevalues.Value) == "PDDFU" || strdispcodevalues.Value == "CBFFU" || strdispcodevalues.Value == "CAFBEF" || strdispcodevalues.Value == "CNARN" || strdispcodevalues.Value == "CCBA" || strdispcodevalues.Value == "CCBFC" || strdispcodevalues.Value == "CBK" || strdispcodevalues.Value == "CCBP" || strdispcodevalues.Value == "CBCA")
        {
            if (radPKPickupCallBack.SelectedDate == null || radPKPickupCallBack.IsEmpty == true)
            {

                Response.Write("<script>alert('Please select callback date')</script>");
                return;
            }
            else
            {
                if (radPKPickupCallBack.SelectedDate == null || radPKPickupCallBack.IsEmpty == true)
                {

                    dtm2 = "''";
                }
                else
                {
                    dt2 = Convert.ToDateTime(radPKPickupCallBack.SelectedDate.ToString());
                    dtm2 = dt2.ToString("yyyy-MM-dd HH:mm:ss");
                    // dtm2 = "isnull(CONVERT(CHAR(23),CONVERT(DATETIME,'" + dt2.ToString("dd/MM/yyy hh:mm:ss") + "',101),121),'') ";
                }

            }
        }



        if (Convert.ToString(strdispcodevalues.Value) == "CBAP" || Convert.ToString(strdispcodevalues.Value) == "PDDFU" || strdispcodevalues.Value == "CBFFU" || strdispcodevalues.Value == "CAFBEF" || strdispcodevalues.Value == "CNARN" || strdispcodevalues.Value == "CCBA" || strdispcodevalues.Value == "CCBFC" || strdispcodevalues.Value == "CBK" || strdispcodevalues.Value == "CCBP" || strdispcodevalues.Value == "CBCA")
        {
            if (radPKPickupCallBack.SelectedDate < System.DateTime.Now)
            {
                Response.Write("<script>alert('Please select callback greater than current date')</script>");
                return;

            }

        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (DropProductPitch.Text == "Select")
            {
                Response.Write("<script>alert('Please select Product Pitched')</script>");
                return;
            }
        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (txtleadname.Text == "")
            {
                Response.Write("<script>alert('Please Enter Customer Name')</script>");
                return;
            }
        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (txtmobile_hidden.Text == "")
            {
                Response.Write("<script>alert('Please Enter Mobile Number')</script>");
                return;
            }
        }
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (txtmobile1.Value == "")
            {
                Response.Write("<script>alert('Please Enter Mobile Number')</script>");
                return;
            }
        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (txtcurraddress1.Text == "")
            {
                Response.Write("<script>alert('Please select CURNT_ADDRESS1')</script>");
                return;
            }
        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (txtcurraddress2.Text == "")
            {
                Response.Write("<script>alert('Please select CURNT_ADDRESS2')</script>");
                return;
            }
        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (txtcurraddress3.Text == "")
            {
                Response.Write("<script>alert('Please select CURNT_ADDRESS3')</script>");
                return;
            }
        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (txtcurrcity.Text == "")
            {
                Response.Write("<script>alert('Please select CURNT_CITY')</script>");
                return;
            }
        }
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (txtcurrzip.Text == "")
            {
                Response.Write("<script>alert('Please select CURNT_ZIP_CODE')</script>");
                return;
            }
        }
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (txtcurrentstate.Text == "")
            {
                Response.Write("<script>alert('Please select CURNT_STATE')</script>");
                return;
            }
        }
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (RadappointmentDate.SelectedDate < System.DateTime.Now.AddMinutes(180))
            {
                Response.Write("<script>alert('Please select appointment date greater than 3 hours')</script>");
                return;

            }

        }
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (RadappointmentDate.SelectedDate == null || RadappointmentDate.IsEmpty == true)
            {
                Response.Write("<script>alert('Please select appointment date ')</script>");
                return;

            }

        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (RadappointmentStartTime.SelectedDate < System.DateTime.Now)
            {
                Response.Write("<script>alert('Please select appointment start date greater than current date')</script>");
                return;

            }

        }
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (RadappointmentStartTime.SelectedDate == null || RadappointmentStartTime.IsEmpty == true)
            {
                Response.Write("<script>alert('Please select appointment start date ')</script>");
                return;

            }

        }
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (RadappointmentEndTime.SelectedDate < System.DateTime.Now)
            {
                Response.Write("<script>alert('Please select appointment end time  greater than current date')</script>");
                return;

            }

        }
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (RadappointmentEndTime.SelectedDate == null || RadappointmentEndTime.IsEmpty == true)
            {
                Response.Write("<script>alert('Please select appointment end time ')</script>");
                return;

            }

        }

        //if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        //{
        //    if (txtremarks.Text == "" || txtremarks.Text == "~" || txtremarks.Text == "`" || txtremarks.Text == "!" || txtremarks.Text == "@" || txtremarks.Text == "#"
        //       || txtremarks.Text == "$" || txtremarks.Text == "%" || txtremarks.Text == "^" || txtremarks.Text == "&" || txtremarks.Text == "*" || txtremarks.Text == "("
        //       || txtremarks.Text == ")" || txtremarks.Text == "_" || txtremarks.Text == "+" || txtremarks.Text == "=" || txtremarks.Text == "|" || txtremarks.Text == "}"
        //       || txtremarks.Text == "]" || txtremarks.Text == "{" || txtremarks.Text == "[" || txtremarks.Text == ":" || txtremarks.Text == ";" || txtremarks.Text == "<"
        //       || txtremarks.Text == ">" || txtremarks.Text == "/" || txtremarks.Text == "?" || txtremarks.Text == "   ")
        //    {
        //        Response.Write("<script>alert('Special characters are not allowded')</script>");
        //        return;

        //    }
        //}

      // txtremarks

        //if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        //{
        //    if (Regex.IsMatch(txtremarks.Text, "^[a-zA-Z0-9 ]*$$"))  //      "^[a-zA-Z0-9 ]*$$"
        //    {

        //    }
        //    else
        //    {
        //        Response.Write("<script>alert('Special characters are not allowded')</script>");
        //        return;

        //    }
        //}


        if (ChkPiched.Checked == true)
        {
            ChkPiched.Text = "YES";

        }
        else
        {

            ChkPiched.Text = "NO";
        }

        if (cbTermRider.Checked == true)
        {
            cbTermRider.Text = "YES";

        }
        else
        {

            cbTermRider.Text = "NO";
        }

        //if (txtremarks.Text == "")
        //{
        //    Response.Write("<script>alert('Please select Remarks')</script>");
        //    return;

        //}
        if (radDisposition.Text == "Complaint")
        {
            if (txtExistingPolicyNo.Text == "")
            {
                Response.Write("<script>alert('Please select Existing Policy No')</script>");
                return;
            }
            if (txtCustomerName.Text == "")
            {
                Response.Write("<script>alert('Please select Customer Name')</script>");
                return;

            }
            if (txtCustomerContactDetails.Text == "")
            {
                Response.Write("<script>alert('Please select Customer Contact Details')</script>");
                return;

            }
            if (txtServiceRequestNo.Text == "")
            {
                Response.Write("<script>alert('Please select Service Request No')</script>");
                return;

            }
            if (txtMediumthroughwhichSRraised.Text == "")
            {
                Response.Write("<script>alert('Please select Medium through which SR raised')</script>");
                return;

            }
            if (txtnature.Text == "")
            {
                Response.Write("<script>alert('Please select Nature of Service / complaint / query')</script>");
                return;

            }
            if (txtSenttoHODate.Text == "")
            {
                Response.Write("<script>alert('Please select Sent to HO Date')</script>");
                return;
            }


            if (ddlLeadType.SelectedValue == "0")
            {
                Response.Write("<script>alert('Please select Lead Type')</script>");
                ddlLeadType.Focus();
                return;
            }

        }

        if (radCategory.Text == "Contactable")
        {
            if (drpIncome.Text == "")
            {
                Response.Write("<script>alert('Please select Annual Income')</script>");
                return;
            }

        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (lblrefix.Text != "Refix")
            {

               check_duplicate_leads();

                if (leadcount.Text == "1" || leadcount.Text == "2")
                {
                    Response.Write("<script>alert('Appointment is already genrated!!!!!!')</script>");

                    return;
                }
            }

        }

        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            try
            {


                int Timeonly = RadappointmentDate.SelectedDate.Value.Hour;
                //   int minute = RadAppointment.SelectedDate.Value.Minute;
                //txtFirstName.Text = Timeonly.ToString();
                if (Timeonly < 11)
                {
                    Response.Write("<script>alert('appointment should not be less than 11:00 AM ')</script>");
                    return;
                }

                if (Timeonly >= 19)
                {
                    Response.Write("<script>alert('appointment should not be greter than 07:00 PM ')</script>");
                    return;
                }
            }
            catch
            {

                //throw;
            }
        }

        save_data();

        if (lblBatchName.Text != "TATA_NEU0709" || lblBatchName.Text != "TES_DSF_PFA" || lblBatchName.Text != "ADOB_SME" || lblBatchName.Text != "ADOB_NFO" || lblBatchName.Text != "ADOB_ECM" || lblBatchName.Text != "ADOB_CROSS"
            || lblBatchName.Text != "ADOB_CD" || lblBatchName.Text != "ADOB_MAT" || lblBatchName.Text != "ADOB_MDAY" || lblBatchName.Text != "ADOB_FGPN" || lblBatchName.Text != "ADOB_PRTG" || lblBatchName.Text != "ADOB_WD"
            || lblBatchName.Text != "ADOB_DGS2S")
        {
            if (Convert.ToString(strdispcodevalues.Value) == "ATBT" || Convert.ToString(strdispcodevalues.Value) == "ATBNT" || Convert.ToString(strdispcodevalues.Value) == "TBO")
            {
                DSF_BO_TRANSFER();
            }
        }

        //VYMO LEAD CREATE API

        if (lblBatchName.Text == "ADOB_ECM")
        {

            if (Convert.ToString(strdispcodevalues.Value) == "APMT")
            {

              //  string URL = "http://rsplwebserver.com/YMO_Reverse_Lead_Create_Revive_PFA_LG_OUT/Indiafirst.aspx?ClientID=" + txtleadid1.Text + "&serialid=3";

             //   var request = (HttpWebRequest)WebRequest.Create(URL);
            
             //   var response = (HttpWebResponse)request.GetResponse();
            //    var responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();

            }
        }

        try
        {
            if (lblBatchName.Text == "ADOB_CROSS" && Convert.ToString(strdispcodevalues.Value) == "APMT")
            {
               // string URL = "http://rsplwebserver.com/VYMO_REVERSE_RETARGETED_PFA/Indiafirst.aspx?ClientID=" + txtleadid1.Text + "&serialid=3";

               // var request = (HttpWebRequest)WebRequest.Create(URL);


              //  var response = (HttpWebResponse)request.GetResponse();
              //  var responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();

            }
        }

        catch
        {


        }


        if ((Convert.ToString(strdispcodevalues.Value) == "APMT") && (lblBatchName.Text == "ADOB_CPS2S" || lblBatchName.Text == "ADOB_WPS2S"))
        {
            /*
//Commented on the request of amit deshpande 2025-05-16
            string URL = "http://rsplwebserver.com:130/Indiafirst.aspx?ClientID=" + txtleadid1.Text + "&serialid=3&RMCODE=" + txtASSIGNEDTO.Text + "";

            var request = (HttpWebRequest)WebRequest.Create(URL);


            var response = (HttpWebResponse)request.GetResponse();
            var responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();
            */
        }




        if ((Convert.ToString(strdispcodevalues.Value) == "APMT") && (lblBatchName.Text == "ADOB_CD" || lblBatchName.Text == "ADOB_MAT" || lblBatchName.Text == "ADOB_MDAY" || lblBatchName.Text == "ADOB_FGPN"
            || lblBatchName.Text == "ADOB_PRTG" || lblBatchName.Text == "ADOB_WD" || lblBatchName.Text == "ADOB_DGS2S" || lblBatchName.Text == "ADOB_TEMP" || lblBatchName.Text == "ADOB_PASA"
            || lblBatchName.Text == "ADOB_DSRS" || lblBatchName.Text == "ADOB_PR3" || lblBatchName.Text == "ADOB_FGS" || lblBatchName.Text == "ADOBE_S2S" || lblBatchName.Text == "ADOB_PRO"
            || lblBatchName.Text == "ADOB_PEN" || lblBatchName.Text == "ADOB_NED" || lblBatchName.Text == "ADOB_SED" || lblBatchName.Text == "ADOB_NRTR" || lblBatchName.Text == "ADOB_SRTR"
            || lblBatchName.Text == "ADOB_TNRTR" || lblBatchName.Text == "ADOB_EXTPT" || lblBatchName.Text == "ADOB_BCC"))
        {
            /*
            //Commented on the request of amit deshpande 2025-05-16
            string URL = "http://rsplwebserver.com:131/Indiafirst.aspx?ClientID=" + txtleadid1.Text + "&serialid=3&RMCODE=" + txtASSIGNEDTO.Text + "";

            var request = (HttpWebRequest)WebRequest.Create(URL);


            var response = (HttpWebResponse)request.GetResponse();
            var responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();
            */



	    string URLSiddhi = "http://172.16.0.118:220/Indiafirst.aspx?ClientID=" + txtleadid1.Text + "&serialid=3&RMCODE=" + txtASSIGNEDTO.Text + "";

            var requestSiddhi = (HttpWebRequest)WebRequest.Create(URLSiddhi);


            var responseSiddhi = (HttpWebResponse)requestSiddhi.GetResponse();
            var responseStringSiddhi = new StreamReader(responseSiddhi.GetResponseStream()).ReadToEnd();


        }

        if ((Convert.ToString(strdispcodevalues.Value) == "APMT") && (lblBatchName.Text == "URJABI" || lblBatchName.Text == "WBMKT_URJA" || lblBatchName.Text == "URJA_RETAIL" || lblBatchName.Text == "URJA_N2CI" || lblBatchName.Text == "URJA_PRO"
            || lblBatchName.Text == "URJA_EMP" || lblBatchName.Text == "URJA_CBAP" || lblBatchName.Text == "URJA_MFEB24"))
        {
            /*
            //Commented on the request of amit deshpande 2025-05-16
            string URL = "http://rsplwebserver.com:132/Indiafirst.aspx?ClientID=" + txtleadid1.Text + "&serialid=3";

            var request = (HttpWebRequest)WebRequest.Create(URL);


            var response = (HttpWebResponse)request.GetResponse();
            var responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();
            */
        }

        if ((Convert.ToString(strdispcodevalues.Value) == "APMT") && (lblBatchName.Text == "URJA_MANUAL27" || lblBatchName.Text == "URJA_MLOCT23"))
        {
            /*
            //Commented on the request of amit deshpande 2025-05-16
            string URL = "http://rsplwebserver.com:133/Indiafirst.aspx?ClientID=" + txtleadid1.Text + "&serialid=3";

            var request = (HttpWebRequest)WebRequest.Create(URL);


            var response = (HttpWebResponse)request.GetResponse();
            var responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();
            */
        }


        if ((Convert.ToString(strdispcodevalues.Value) == "APMT") && (lblBatchName.Text == "DSF_AGENCY") && (lblServicablePincode.Text == "Serviceable" || lblServicablePincode.Text == "Non Serviceable"))
        {

            /*
            //Commented on the request of amit deshpande 2025-05-16
            string URL = "http://rsplwebserver.com:134/Indiafirst.aspx?ClientID=" + txtleadid1.Text + "&serialid=3";

            var request = (HttpWebRequest)WebRequest.Create(URL);


            var response = (HttpWebResponse)request.GetResponse();
            var responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();
            */
        }





        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {
            if (RadappointmentEndTime.SelectedDate == null || RadappointmentEndTime.IsEmpty == true || RadappointmentEndTime.SelectedDate < System.DateTime.Now)
            {
                Response.Write("<script>alert('Please Check or select appointment end time ')</script>");
                return;
            }
            else
            {
                SMS_Send();


            }

        }



        //  PUSH_JSONDATA();

        clearFields();
        CtiWS.CtiWS CtiWS1 = new CtiWS.CtiWS();

        CtiWS1.CloseCall("", "", strdispcodevalues.Value, dtm2, radPKPickupCallBack.SelectedDate.ToString(), txtremarks.Text, strHost);
        //CtiWS1.CloseCall("", "", "", dtm2, "", txtremarks.Text, strHost);//, CallNumber)t;


    }

    public void clearFields()
    {
        txtmobile1.Value = "";
        txtOffer_Id.Text = "";
        txtremarks.Text = "";
        radDisposition.SelectedIndex = -1;
        radCategory.SelectedIndex = -1;
        RadSubdisposition.SelectedIndex = -1;
        radCategory.Items.Clear();
        radCategory.ClearSelection();
        radCategory.Text = string.Empty;
        radDisposition.Text = "";
        RadSubdisposition.Text = "";
        txtcurrentstate.Text = "";
        txtleadid1.Text = "";
        lblBatchName.Text = "";
        lblagentname.Text = "";
        txtmobile1.Value = "";
        txtmobile1_hidden.Text = "";
        txtmobile.Value = "";
        txtmobile_hidden.Text = "";
        txtlandlineno.Value = "";
        txtlandlineno_hidden.Text = "";
        txtleadname.Text = "";
        txtremarks.Text = "";
        txtbirthdate.Text = "";
        txtage.Text = "";
        txtgender.Text = "";
        txtcurraddress1.Text = "";
        txtcurraddress2.Text = "";
        txtcurraddress3.Text = "";
        txtcurrdis.Text = "";
       // txtcurrcity.ClearSelection();
        txtcurrcity.Text = "";
       // txtcurrcity.Text = string.Empty;
        txtcurrentstate.Text = "";
       //txtcurrzip.ClearSelection();
        txtcurrzip.Text="";
        txtcurrentstate.Text = "";
       // txtcurrzip.Text = "";
        txtemailid.Value = "";
        txtemailid_hidden.Text = "";
        txtincomegroup.Text = "";
        txtoccupation.Text = "";
        txtmaritalstatus.Text = "";
        txtnochildren.Text = "";
        txtcompanyname.Text = "";
        txtpripolicyno.Text = "";
        txtpolicynumber.Text = "";
        txtstatusdescription.Text = "";
        txtfundname.Text = "";
        radneft.Text = "";
        radnomineedetails.Text = "";
        txtanaltic.Text = "";
        txtleadsourceone.Text = "";
        txtleadsubsourceone.Text = "";
        txtleadsourcetwo.Text = "";
        txtleadsourcethree.Text = "";
        txtpropsedservice.Text = "";
        txttrigger.Text = "";
        txtaudtype.Text = "";
        txtissyned.Text = "";
        txtASSIGNEDTO.Text = "";
        txtverremarks.Text = "";
        ChkPiched.Checked = false;
        cbTermRider.Checked = false;
        txtExistingPolicyNo.Text = "";
        txtCustomerName.Text = "";
        txtCustomerContactDetails.Text = "";
        txtServiceRequestNo.Text = "";
        txtMediumthroughwhichSRraised.Text = "";
        txtnature.Text = "";
        txtSenttoHODate.Text = "";
        ddlLeadType.SelectedIndex = -1;
        txtLeadToken.Text = "";
        drpIncome.SelectedIndex = -1;
        txtcurrzip.Text="";
        txtcurrcity.Text = "";
        //txtcurrcity.Items.Clear();
        txtcurrentstate.Text = "";
    }

    public void SMS_Send()
    {
        try
        {
            string Appodate, Appotime, Token, Mobile, AgentID, SenderID;

            string STRCON = ConfigurationManager.ConnectionStrings["Constring"].ConnectionString;
            SqlConnection conn = new SqlConnection(STRCON);
            // if (con.State == ConnectionState.Open) con.Close(); con.Open();
            SqlCommand cmd = new SqlCommand("USP_GET_SMS_DATA", con);
            cmd.CommandType = CommandType.StoredProcedure;
            cmd.Parameters.AddWithValue("@Lead_ID", txtleadid1.Text);
            //cmd.Parameters.AddWithValue("@leadid", "2565");

            conn.Open();
            SqlDataAdapter da = new SqlDataAdapter(cmd);
            DataSet ds = new DataSet();
            da.Fill(ds);

            Appodate = Convert.ToString(ds.Tables[0].Rows[0]["AppoDate"]);
            Appotime = Convert.ToString(ds.Tables[0].Rows[0]["Appotime"]);
            Token = Convert.ToString(ds.Tables[0].Rows[0]["Token"]);
            Mobile = Convert.ToString(ds.Tables[0].Rows[0]["lead_phone"]);
            AgentID = Convert.ToString(ds.Tables[0].Rows[0]["lead_last_agent_name"]);
            SenderID = "TATLIC";



            conn.Close();

            string URL = "http://172.16.0.10:80/TATA_SMS/RGISMS.asmx/Send_SMS_TATAAIA?LeadID=" + txtleadid1.Text + "&AppoDate=" + Appodate + "&Appotime=" + Appotime + "&Token=" + Token + "&Mobile=" + Mobile + "&AgentID=" + AgentID + "&SenderID=" + SenderID + "";

            var request = (HttpWebRequest)WebRequest.Create(URL);


            var response = (HttpWebResponse)request.GetResponse();
            var responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();


        }
        catch (Exception ex)
        {

        }



    }
    public void save_data()
    {
        string STRCON = ConfigurationManager.ConnectionStrings["Constring"].ConnectionString;
        SqlConnection con = new SqlConnection(STRCON);

        //SqlCommand cmd = new SqlCommand("USP_SAVE_DATA_TATA_AIA_OUT_2023_02_04", con);
        SqlCommand cmd = new SqlCommand("USP_SAVE_DATA_2024_03_19", con);
        cmd.CommandType = CommandType.StoredProcedure;
        cmd.Parameters.AddWithValue("@Lead_ID", txtleadid1.Text);


        //cmd.Parameters.AddWithValue("@lead_service_id",
        //cmd.Parameters.AddWithValue("@lead_import_batch_id"]
        cmd.Parameters.AddWithValue("@lead_import_batch_no", lblBatchName.Text);
        //cmd.Parameters.AddWithValue("@lead_status",)
        // cmd.Parameters.AddWithValue("@lead_last_dial_status", strdispcode);
        cmd.Parameters.AddWithValue("@lead_last_dial_status", strdispcodevalues.Value);

        //cmd.Parameters.AddWithValue("@	lead_last_dial_time"]
        //cmd.Parameters.AddWithValue("@	lead_last_agent_id"]
        cmd.Parameters.AddWithValue("@lead_last_agent_name", lblagentname.Text);
        //cmd.Parameters.AddWithValue("@	lead_attempts",txt]
        //cmd.Parameters.AddWithValue("@lead_area",txt]
        cmd.Parameters.AddWithValue("@lead_phone", txtmobile1.Value);
        cmd.Parameters.AddWithValue("@lead_phone1", txtmobile1.Value);
        cmd.Parameters.AddWithValue("@lead_phone2", txtmobile.Value);
        cmd.Parameters.AddWithValue("@lead_phone3", txtlandlineno.Value);
        //cmd.Parameters.AddWithValue("@	lead_phone4"]
        //cmd.Parameters.AddWithValue("@	lead_phone5"]
        //cmd.Parameters.AddWithValue("@	lead_zone"]
        //cmd.Parameters.AddWithValue("@	lead_title"]
        cmd.Parameters.AddWithValue("@lead_fname", txtleadname.Text);
        //cmd.Parameters.AddWithValue("@	lead_mname"]
        //cmd.Parameters.AddWithValue("@	lead_lname"]
        //cmd.Parameters.AddWithValue("@	lead_address1"]
        //cmd.Parameters.AddWithValue("@	lead_address2"]
        //cmd.Parameters.AddWithValue("@	lead_address3"]
        //cmd.Parameters.AddWithValue("@	lead_city"]
        //cmd.Parameters.AddWithValue("@	lead_zip"]
        //cmd.Parameters.AddWithValue("@lead_zip4"]
        //cmd.Parameters.AddWithValue("@lead_state"]
        //cmd.Parameters.AddWithValue("@lead_country",
        cmd.Parameters.AddWithValue("@lead_remarks", txtremarks.Text);
        cmd.Parameters.AddWithValue("@BIRTH_DATE", txtbirthdate.Text);
        cmd.Parameters.AddWithValue("@CURRENT_AGE", txtage.Text);
        cmd.Parameters.AddWithValue("@GENDER_CD", txtgender.Text);
        cmd.Parameters.AddWithValue("@CURNT_ADDRESS1", txtcurraddress1.Text);
        cmd.Parameters.AddWithValue("@CURNT_ADDRESS2", txtcurraddress2.Text);
        cmd.Parameters.AddWithValue("@CURNT_ADDRESS3", txtcurraddress3.Text);
        cmd.Parameters.AddWithValue("@CURNT_DISTRICT_LANDMARK", txtcurrdis.Text);
     cmd.Parameters.AddWithValue("@CURNT_CITY", txtcurrcity.Text);
        cmd.Parameters.AddWithValue("@CURNT_STATE", txtcurrentstate.Text);
        cmd.Parameters.AddWithValue("@CURNT_ZIP_CODE", txtcurrzip.Text);
        cmd.Parameters.AddWithValue("@EMAIL_ID", txtemailid.Value);
        cmd.Parameters.AddWithValue("@INCOME_GROUP_CD", txtincomegroup.Text);
        cmd.Parameters.AddWithValue("@OCCUPATION_CD", txtoccupation.Text);
        cmd.Parameters.AddWithValue("@MARITAL_STATUS_CD", txtmaritalstatus.Text);
        cmd.Parameters.AddWithValue("@NO_OF_CHILDREN_CD", txtnochildren.Text);
        cmd.Parameters.AddWithValue("@CAMPAIGN_NAME", lblBatchName.Text);
        cmd.Parameters.AddWithValue("@PRIMARY_POLICY_NO", txtpripolicyno.Text);
        cmd.Parameters.AddWithValue("@POLICY_NUMBER", txtpolicynumber.Text);
        cmd.Parameters.AddWithValue("@POLICY_STATUS_DESCRIPTION", txtstatusdescription.Text);
        cmd.Parameters.AddWithValue("@PREMIUM_DUE_DATE", radpremiumduedate.Text);
        cmd.Parameters.AddWithValue("@FUND_NAME_ULIP", txtfundname.Text);
        cmd.Parameters.AddWithValue("@PREMIUM_PAID_TILL_DATE", pripaidtilldate.Text);
        cmd.Parameters.AddWithValue("@NEFT_UPDATE", radneft.Text);
        cmd.Parameters.AddWithValue("@NOMINEE_DETAILS", radnomineedetails.Text);
        cmd.Parameters.AddWithValue("@ANALYTIC_RECO_PRODUCT", txtanaltic.Text);
        cmd.Parameters.AddWithValue("@LEAD_SOURCE1_CD", txtleadsourceone.Text);
        cmd.Parameters.AddWithValue("@LEAD_SUB_SOURCE1_CD", txtleadsubsourceone.Text);
        cmd.Parameters.AddWithValue("@LEAD_SOURCE2_CD", txtleadsourcetwo.Text);
        cmd.Parameters.AddWithValue("@LEAD_SOURCE3_CD", txtleadsourcethree.Text);
        cmd.Parameters.AddWithValue("@PROPSED_SERVICE_TYPE_ID", txtpripolicyno.Text);
        cmd.Parameters.AddWithValue("@TRIGGER_EVENT_ID", txttrigger.Text);
        cmd.Parameters.AddWithValue("@AUD_TIME", Radaudtime.Text);
        cmd.Parameters.AddWithValue("@AUD_TYPE", txtaudtype.Text);
        cmd.Parameters.AddWithValue("@ISSYNCED", txtissyned.Text);
        cmd.Parameters.AddWithValue("@ASSIGNED_TO", txtASSIGNEDTO.Text);
        cmd.Parameters.AddWithValue("@category", radCategory.Text);
        cmd.Parameters.AddWithValue("@disposition", radDisposition.Text);
        cmd.Parameters.AddWithValue("@subdisposition", RadSubdisposition.Text);
        cmd.Parameters.AddWithValue("@callback", radPKPickupCallBack.SelectedDate);
        cmd.Parameters.AddWithValue("@appointmentDate", RadappointmentDate.SelectedDate);
        cmd.Parameters.AddWithValue("@appointmentstarttime", RadappointmentStartTime.SelectedDate);
        cmd.Parameters.AddWithValue("@appointmentendtime", RadappointmentEndTime.SelectedDate);
        cmd.Parameters.AddWithValue("@ChkPiched", ChkPiched.Text);
        cmd.Parameters.AddWithValue("@TermRider", cbTermRider.Text);

        cmd.Parameters.AddWithValue("@ExistingPolicyNo", txtExistingPolicyNo.Text);
        cmd.Parameters.AddWithValue("@CustomerName", txtCustomerName.Text);
        cmd.Parameters.AddWithValue("@CustomerContactDetails", txtCustomerContactDetails.Text);
        cmd.Parameters.AddWithValue("@ServiceRequestNo", txtServiceRequestNo.Text);
        cmd.Parameters.AddWithValue("@MediumthroughwhichSRraised", txtMediumthroughwhichSRraised.Text);
        cmd.Parameters.AddWithValue("@nature", txtnature.Text);
        cmd.Parameters.AddWithValue("@SenttoHODate", txtSenttoHODate.Text);
        cmd.Parameters.AddWithValue("@LeadType", ddlLeadType.SelectedItem.Text);
        cmd.Parameters.AddWithValue("@LeadToken", txtLeadToken.Text);
        cmd.Parameters.AddWithValue("@Product_Pitched1", DropProductPitch.Text);
        cmd.Parameters.AddWithValue("@Reason", Radreason.Text);
        cmd.Parameters.AddWithValue("@AnnualIncome", drpIncome.Text);
        cmd.Parameters.AddWithValue("@P_ProductPitched", DDProductPitch.Text);
        cmd.Parameters.AddWithValue("@P_Zone", lblzone.Text);
        cmd.Parameters.AddWithValue("@P_Language_Barrier", DDLanguage.Text);
        cmd.Parameters.AddWithValue("@P_Product_Name", txtProductName.Text);
        cmd.Parameters.AddWithValue("@P_Campaign_Name", txtCampaignName.Text);
        cmd.Parameters.AddWithValue("@P_Sub_Campaign_Name", txtSubCampaignName.Text);
        cmd.Parameters.AddWithValue("@P_Pay_Out_Date", txtPayOutDate.Text);
        cmd.Parameters.AddWithValue("@P_Var1", txtVar1.Text);
        cmd.Parameters.AddWithValue("@P_Var2", txtVar2.Text);
        cmd.Parameters.AddWithValue("@P_Var3", txtVar3.Text);
        cmd.Parameters.AddWithValue("@P_Occupation", DDOccupation.Text);
        cmd.Parameters.AddWithValue("@P_Meeting_Type", DDMeetingType.Text);
        cmd.Parameters.AddWithValue("@P_Wm_LeadID", txtWM_LEAD.Text);
        cmd.Parameters.AddWithValue("@P_Business_TypeID", txtBUSINESS_ID.Text);
        cmd.Parameters.AddWithValue("@P_Flow", txtFlow.Text);
        cmd.Parameters.AddWithValue("@P_GC_Pasa_Flag", txtGC_PASA_FLAG.Text);
        cmd.Parameters.AddWithValue("@P_Lead_Create_DTM", txtLEAD_CREATED_DTTM.Text);
        cmd.Parameters.AddWithValue("@P_Lead_Status1", txtLEAD_STATUS1.Text);
        cmd.Parameters.AddWithValue("@P_DOB", txtDOB.Text);
        cmd.Parameters.AddWithValue("@P_Offer_Link", txtOfferLink.Text);
        cmd.Parameters.AddWithValue("@P_Opportunity_ID", txtOPPORTUNITY_ID.Text);
        cmd.Parameters.AddWithValue("@P_SIS_TIME", txtSIS_SIGNED_TIMESTAMP.Text);
        cmd.Parameters.AddWithValue("@P_Plan_Code", txtPlan_Code.Text);
        cmd.Parameters.AddWithValue("@P_Sum_Assured", txtSUM_ASSURED.Text);
        cmd.Parameters.AddWithValue("@P_Policy_Term", txtPOLICY_TERM.Text);
        cmd.Parameters.AddWithValue("@P_Pre_Pay_Term", txtPRE_PAY_TERM.Text);
        cmd.Parameters.AddWithValue("@P_Pre_Mode", txtPRE_MODE.Text);
        cmd.Parameters.AddWithValue("@P_Pre_Base", txtPRE_BASE.Text);
        cmd.Parameters.AddWithValue("@P_GST", txtGST.Text);
        cmd.Parameters.AddWithValue("@P_Application_ID", txtAPPLICATION_ID.Text);
        cmd.Parameters.AddWithValue("@P_App_Submitted_Time", txtAPPSUBMITTED_TIME.Text);
        cmd.Parameters.AddWithValue("@P_Payment_ID", txtPAYMENT_ID.Text);
        cmd.Parameters.AddWithValue("@P_Payment_Time", txtPAYMENT_TIME.Text);        
        cmd.Parameters.AddWithValue("@P_Smoker_Flag", txtSMOKER_FLAG.Text);
        cmd.Parameters.AddWithValue("@P_Payment_Status", txtPAYMENT_STATUS.Text);
        cmd.Parameters.AddWithValue("@P_Interaction_ID", txtINTERACTION_ID.Text);
        cmd.Parameters.AddWithValue("@P_Event_Name", txtEVENT_NAME.Text);
        cmd.Parameters.AddWithValue("@P_Created_Dtm", txtCREATED_DTTM.Text);
        cmd.Parameters.AddWithValue("@P_Api_LeadID", txtApiLeadId.Text);
        cmd.Parameters.AddWithValue("@P_Offer_id", txtOffer_Id.Text);


        //cmd.Parameters.AddWithValue("@lead_last_dial_status", strdispcodevalues);
        con.Open();
        int i = cmd.ExecuteNonQuery();

        con.Close();

        // Response.Write("<script>alert('Data Submitted')</script>");
        ChkPiched.Enabled = true;
        cbTermRider.Enabled = true;
        //   clearFields();


    }


    protected void leadload_select()
    {
        if (con.State == ConnectionState.Open) con.Close(); con.Open();

        //using (SqlCommand cmd = new SqlCommand("USP_DISPLAY_DATA", con))//OG
        using (SqlCommand cmd = new SqlCommand("USP_DISPLAY_DATA_TATA_AIA_OUT", con))
        {
            cmd.CommandType = CommandType.StoredProcedure;
            SqlParameter disp = cmd.Parameters.AddWithValue("@LEAD_ID", strlead_ID);

            //SqlParameter disp = cmd.Parameters.AddWithValue("@LEAD_ID", "77276");
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {

                        txtleadid1.Text = dr["lead_id"].ToString();
                        //= dr ["lead_service_id"].ToString();
                        //= dr ["lead_import_batch_id"].ToString();
                        lblBatchName.Text = dr["lead_import_batch_no"].ToString();
                        txtInsertedDate.Text = dr["lead_api_insert_date"].ToString();
                        //= dr ["lead_status"].ToString();
                        //= dr ["lead_last_dial_status"].ToString();
                        //= dr ["lead_last_dial_time"].ToString();
                        //= dr ["lead_last_agent_id"].ToString();
                        //lblagentname.Text = dr["lead_last_agent_name"].ToString();
                        //= dr ["lead_attempts"].ToString();
                        //= dr ["lead_area"].ToString();
                        txtmobile1.Value = dr["lead_phone1"].ToString();
                        txtmobile1_hidden.Text = dr["lead_phone1"].ToString();
                        //= dr ["lead_phone1"].ToString();
                        txtmobile.Value = dr["lead_phone1"].ToString();
                        txtmobile_hidden.Text = dr["lead_phone1"].ToString();
                        txtlandlineno.Value = dr["lead_phone3"].ToString();
                        txtlandlineno_hidden.Text = dr["lead_phone3"].ToString();
                        //= dr ["lead_phone4"].ToString();
                        //= dr ["lead_phone5"].ToString();
                        //= dr ["lead_zone"].ToString();
                        //= dr ["lead_title"].ToString();
                        txtleadname.Text = dr["lead_fname"].ToString();
                        //= dr ["lead_mname"].ToString();
                        //= dr ["lead_lname"].ToString();
                        //= dr ["lead_address1"].ToString();
                        //= dr ["lead_address2"].ToString();
                        //= dr ["lead_address3"].ToString();
                        //= dr ["lead_city"].ToString();
                        //= dr ["lead_zip"].ToString();
                        //= dr ["lead_zip4"].ToString();
                        //= dr ["lead_state"].ToString();
                        //= dr ["lead_country"].ToString();
                        //txtremarks.Text = dr["lead_remarks"].ToString();
                        txtbirthdate.Text = dr["BIRTH_DATE"].ToString();
                        //txtage.Text = dr["AGE"].ToString();
                        //txtgender.Text = dr["GENDER"].ToString();
                        //txtcurraddress1.Text = dr["CURNT_ADDRESS1"].ToString();
                        //txtcurraddress2.Text = dr["CURNT_ADDRESS2"].ToString();
                        //txtcurraddress3.Text = dr["CURNT_ADDRESS3"].ToString();
                        txtcurrdis.Text = dr["CURNT_DISTRICT_LANDMARK"].ToString();
                       ////////////////////////////////////////// txtcurrcity.Text = dr["CURNT_CITY"].ToString();
                        txtcurrentstate.Text = dr["CURNT_STATE"].ToString();
                        txtcurrzip.Text = dr["CURNT_ZIP_CODE"].ToString();
                        txtemailid.Value = dr["EMAIL_ID"].ToString();
                        txtemailid_hidden.Text = dr["EMAIL_ID"].ToString();
                        txtincomegroup.Text = dr["INCOME_GROUP_CD"].ToString();
                        txtoccupation.Text = dr["OCCUPATION_CD"].ToString();
                        txtmaritalstatus.Text = dr["MARITAL_STATUS_CD"].ToString();
                        txtnochildren.Text = dr["NO_OF_CHILDREN_CD"].ToString();
                        txtcompanyname.Text = dr["COMPANY_NAME"].ToString();
                        lblrefix.Text = dr["lead_remarks"].ToString();
                        txtProductName.Text = dr["PRODUCT_NAME"].ToString();
                        txtExistingPolicyNo.Text = dr["Existing_Policy_Number"].ToString();
                        txtOffer_Id.Text = dr["CURNT_ADDRESS1"].ToString();

                       // txtInsertedDate.Text = dr["lead_api_insert_date"].ToString();

                        if (txtcompanyname.Text == "TATABM01")
                        {
                            lblcompanyname.Text = "Raksha – Ex-Active CM";
                        }
                        

                        txtpripolicyno.Text = dr["PRIMARY_POLICY_NO"].ToString();
                        txtpolicynumber.Text = dr["POLICY_NUMBER"].ToString();
                        txtstatusdescription.Text = dr["POLICY_STATUS_DESCRIPTION"].ToString();
                        radpremiumduedate.Text = dr["PREMIUM_DUE_DATE"].ToString();
                        txtfundname.Text = dr["FUND_NAME_ULIP"].ToString();
                        pripaidtilldate.Text = dr["PREMIUM_PAID_TILL_DATE"].ToString();
                        radneft.Text = dr["NEFT_UPDATE"].ToString();
                        radnomineedetails.Text = dr["NOMINEE_DETAILS"].ToString();
                        txtanaltic.Text = dr["ANALYTIC_RECO_PRODUCT"].ToString();
                        txtleadsourceone.Text = dr["LEAD_SOURCE1_CD"].ToString();
                        txtleadsubsourceone.Text = dr["LEAD_SUB_SOURCE1_CD"].ToString();
                        txtleadsourcetwo.Text = dr["LEAD_SOURCE2_CD"].ToString();
                        txtleadsourcethree.Text = dr["LEAD_SOURCE3_CD"].ToString();
                        txtpropsedservice.Text = dr["PROPSED_SERVICE_TYPE_ID"].ToString();
                        txttrigger.Text = dr["TRIGGER_EVENT_ID"].ToString();
                        Radaudtime.Text = dr["AUD_TIME"].ToString();
                        txtaudtype.Text = dr["AUD_TYPE"].ToString();
                        txtissyned.Text = dr["ISSYNCED"].ToString();
                        txtASSIGNEDTO.Text = dr["ASSIGNED_TO"].ToString();
                        txtverremarks.Text = dr["verremarks"].ToString();
                        lblRejectedFlag.Text = dr["RejectedFlag"].ToString();

                        ChkPiched.Text = dr["Product_Benefit"].ToString();
                        cbTermRider.Text = dr["TermRider"].ToString();
                        txtLeadToken.Text = dr["LeadToken"].ToString();
                        LabelLeadCountry.Text = dr["LeadToken"].ToString();
                   //lead_country     
                        LabelLeadCountry.Text = dr["lead_country"].ToString();
                        lblCampaignRemarks.Text = dr["API_Remarks"].ToString();
                        txtWM_LEAD.Text = dr["WM_LEAD"].ToString();
                        txtBUSINESS_ID.Text = dr["BUSINESS_TYPE_ID"].ToString();
                        txtFlow.Text = dr["FLOW"].ToString();
                        txtGC_PASA_FLAG.Text = dr["GC_PASA_FLAG"].ToString();
                        txtApiLeadId.Text = dr["api_leadid"].ToString();
                        txtLEAD_CREATED_DTTM.Text = dr["LEAD_CREATED_DTTM"].ToString();
                        txtLEAD_STATUS1.Text = dr["LEAD_STATUS1"].ToString();
                        txtDOB.Text = dr["DOB"].ToString();
                        txtOPPORTUNITY_ID.Text = dr["OPPORTUNITY_ID"].ToString();
                        txtSIS_SIGNED_TIMESTAMP.Text = dr["SIS_SIGNED_TIMESTAMP"].ToString();
                        txtPlan_Code.Text = dr["PLAN_CODE"].ToString();
                        txtSUM_ASSURED.Text = dr["SUM_ASSURED"].ToString();
                        txtPOLICY_TERM.Text = dr["POLICY_TERM"].ToString();
                        txtPRE_PAY_TERM.Text = dr["PREMIUM_PAYMENT_TERM"].ToString();
                        txtPRE_MODE.Text = dr["PREMIUM_MODE"].ToString();
                        txtPRE_BASE.Text = dr["PREMIUM_BASE"].ToString();
                        txtGST.Text = dr["GST"].ToString();
                        txtPREMIUM.Text = dr["PREMIUM"].ToString();
                        txtAPPLICATION_ID.Text = dr["APPLICATION_ID"].ToString();
                        txtAPPSUBMITTED_TIME.Text = dr["APP_SUBMITTED_TIMESTAMP"].ToString();
                        txtPAYMENT_ID.Text = dr["PAYMENT_ID"].ToString();
                        txtPAYMENT_TIME.Text = dr["PAYMENT_TIMESTAMP"].ToString();
                        txtPAYMENT_STATUS.Text = dr["PAYMENT_STATUS"].ToString();
                        txtSMOKER_FLAG.Text = dr["SMOKER_FLAG"].ToString();
                        txtINTERACTION_ID.Text = dr["INTERACTION_ID"].ToString();
                        txtEVENT_NAME.Text = dr["EVENT_NAME"].ToString();
                        txtCREATED_DTTM.Text = dr["CREATED_DTTM"].ToString();
                        txtOfferLink.Text = dr["EMPLOYEE_ID"].ToString();
                        txtVar1.Text = dr["INTERACTION_ID"].ToString();
                        if (lblBatchName.Text == "ADOB_PEN" || lblBatchName.Text == "ADOB_NED" || lblBatchName.Text == "ADOB_SED" || lblBatchName.Text == "ADOB_NRTR" || lblBatchName.Text == "ADOB_SRTR" || lblBatchName.Text == "ADOB_TNRTR")
                        {
                        string A = dr["API_Remarks"].ToString();
                        string[] C = A.Split('|');
                        if (C.Length > 5)
                        {

                            string[] B = A.Split('|');

                        //    txtProductName.Text = B[0];
                            txtASSIGNEDTO.Text = B[1].Trim();
                          //  txtASSIGNEDTO.Text = B[1];
                           // txtCampaignName.Text = B[2];
                            //txtSubCampaignName.Text = B[3];
                            //txtbirthdate.Text = B[4];
                            //txtgender.Text = B[5];
                            //txtpripolicyno.Text = B[6];
                            //txtcurrentstate.Text = B[7];
                            //txtcurrzip.Text = B[8];
                            //txtPayOutDate.Text = B[9];
                            //txtVar1.Text = B[10];
                            //txtVar2.Text = B[11];
                            //txtVar3.Text = B[12];
                        }

                        }
                        if (ChkPiched.Text == "YES")
                        {
                            ChkPiched.Checked = true;
                            ChkPiched.Enabled = false;
                        }
                        //else if (ChkPiched.Text == "NO")
                        else if (ChkPiched.Text == "NO" || ChkPiched.Text == null || ChkPiched.Text == "")
                        {
                            ChkPiched.Checked = false;
                            ChkPiched.Enabled = true;
                        }


                        if (cbTermRider.Text == "YES")
                        {
                            cbTermRider.Checked = true;
                            cbTermRider.Enabled = false;
                        }
                        //else if (ChkPiched.Text == "NO")
                        else if (cbTermRider.Text == "NO" || cbTermRider.Text == null || cbTermRider.Text == "")
                        {
                            cbTermRider.Checked = false;
                            cbTermRider.Enabled = true;
                        }


                        if (txtmobile.Value != "" && txtmobile.Value.Length >= 5)
                        {
                            String maskingmobile = txtmobile.Value;
                            txtmobile_hidden.Text = "*****" + maskingmobile.Substring(maskingmobile.Length - 5, 5);
                        }

                        if (txtmobile1.Value != "" && txtmobile1.Value.Length >= 5)
                        {
                            String maskingmobile1 = txtmobile1.Value;
                            txtmobile1_hidden.Text = "*****" + maskingmobile1.Substring(maskingmobile1.Length - 5, 5);
                        }

                        if (txtlandlineno.Value != "" && txtlandlineno.Value.Length >= 5)
                        {
                            String maskinglandlineno = txtlandlineno.Value;
                            txtlandlineno_hidden.Text = "*****" + maskinglandlineno.Substring(maskinglandlineno.Length - 5, 5);
                        }

                        if (txtemailid.Value != "" && txtemailid.Value.Length >= 5)
                        {
                            String maskingemailid = txtemailid.Value;
                            txtemailid_hidden.Text = "*****" + maskingemailid.Substring(maskingemailid.Length - 5, 5);
                        }

                        if (txtcurrdis.Text != "" && txtcurrdis.Text.Length >= 5)
                        {
                            String maskingcurrdis = txtcurrdis.Text;
                            txtcurrdisMasking1.Text = "*****" + maskingcurrdis.Substring(maskingcurrdis.Length - 5, 5);
                        }
                        // txtemailid.Text = dr["EMAIL_ID"].ToString();

                        //ApplyMasking(txtcompanyname.Text);
                        

                    }

                }
            }
            //txtpolicyno.Text = txtpolicynumber.Text;

        }


        //GetagentRemark();

    }

    //protected void GetagentRemark()
    //{


    //    using (SqlCommand cmd = new SqlCommand("USP_GetAgentRemark", con))
    //    {

    //        cmd.CommandType = CommandType.StoredProcedure;
    //        //SqlParameter calltype = cmd.Parameters.AddWithValue("@Calltype", Session["strcalltypes"].ToString());
    //        SqlParameter disp = cmd.Parameters.AddWithValue("@LEADID", lbllead .Text );
    //        using (SqlDataReader dr = cmd.ExecuteReader())
    //        {
    //            if (dr.HasRows == true)
    //            {
    //                while (dr.Read())
    //                {
    //                    //RadComboBoxItem item = new RadComboBoxItem(dr["category"].ToString());
    //                    //radCategory.Items.Add(item);
    //                    txtremarks.Text = dr["Appoinment Fixed"].ToString();

    //                }
    //            }
    //        }
    //    }

    //}


    //private void ApplyMasking(string txtphonePMasking1)
    //{
    //    try
    //    {
    //        if (txtphonePMasking1 != "")
    //        {
    //            Txtmaskcompany.Text = "*****" + txtphonePMasking1.Substring(txtphonePMasking1.Length - 5, 5);
    //        }
    //        //if (txtTelno1Masking1 != "")
    //        //{
    //        //    txtTelno1Masking.Text = "*****" + txtTelno1Masking1.Substring(txtTelno1Masking1.Length - 5, 5);
    //        //}
    //        //if (txtTelno2Masking1 != "")
    //        //{
    //        //    txtTelno2Masking.Text = "*****" + txtTelno2Masking1.Substring(txtTelno2Masking1.Length - 5, 5);
    //        //}
    //    }
    //    catch
    //    {
    //    }
    //}

    protected void getLeadID()
    {

        using (SqlConnection sqlConn = new SqlConnection(ConfigurationManager.ConnectionStrings["Constring"].ConnectionString))
        {
            try
            {
                sqlConn.Open();
                if (strCallType == "I" || strCallType == "M")
                {
                    using (var command = sqlConn.CreateCommand())
                    {
                        command.CommandType = System.Data.CommandType.StoredProcedure;
                        command.CommandText = "idg_sp_insertlead";

                        command.Parameters.Add("@nServiceId", SqlDbType.NVarChar).Value = "47";
                        command.Parameters.Add("@szCLI", SqlDbType.NVarChar).Value = txtmobile1.Value;

                        using (var reader = command.ExecuteReader())
                        {
                            if (reader.Read())
                            {
                                strLeadID = reader["Lead_Id"].ToString();
                                txtleadid1.Text = strLeadID;
                                CtiWS.CtiWS CtiWS1 = new CtiWS.CtiWS();

                                CtiWS1.SetCallParameters("", "", "LEAD_ID", strLeadID, strHost);
                            }
                        }


                    }

                }
            }

            catch (SqlException ex) // This will catch all SQL exceptions
            {

            }

            sqlConn.Close();
        }
    }

    //protected void getCity_Name()
    //{
    //    if (con.State == ConnectionState.Open) con.Close(); con.Open();


    //    txtcurrcity.Items.Clear();
    //    txtcurrcity.ClearSelection();



    //    using (SqlCommand cmd = new SqlCommand("USP_get_CityName", con))
    //    {

    //        cmd.CommandType = CommandType.StoredProcedure;
    //        //SqlParameter calltype = cmd.Parameters.AddWithValue("@Calltype", Session["strcalltypes"].ToString());
            
    //        using (SqlDataReader dr = cmd.ExecuteReader())
    //        {
    //            if (dr.HasRows == true)
    //            {
    //                while (dr.Read())
    //                {
    //                    txtcurrcity.Items.Add(dr["City"].ToString()); 
    //                }
    //            }
    //        }
    //    }

    //}

    protected void getDisp()
    {
        if (con.State == ConnectionState.Open) con.Close(); con.Open();


        radCategory.Items.Clear();
        radCategory.ClearSelection();



        using (SqlCommand cmd = new SqlCommand("Proc_get_disp", con))
        {

            cmd.CommandType = CommandType.StoredProcedure;
            //SqlParameter calltype = cmd.Parameters.AddWithValue("@Calltype", Session["strcalltypes"].ToString());
            SqlParameter disp = cmd.Parameters.AddWithValue("@disp", null);
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {
                        RadComboBoxItem item = new RadComboBoxItem(dr["category"].ToString());
                        radCategory.Items.Add(item);
                    }
                }
            }
        }

    }

    protected void getDisp_AGCY()
    {
        if (con.State == ConnectionState.Open) con.Close(); con.Open();


        radCategory.Items.Clear();
        radCategory.ClearSelection();



        using (SqlCommand cmd = new SqlCommand("proc_get_disp_AGCY", con))
        {

            cmd.CommandType = CommandType.StoredProcedure;
            //SqlParameter calltype = cmd.Parameters.AddWithValue("@Calltype", Session["strcalltypes"].ToString());
            SqlParameter disp = cmd.Parameters.AddWithValue("@disp", null);
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {
                        RadComboBoxItem item = new RadComboBoxItem(dr["category"].ToString());
                        radCategory.Items.Add(item);
                    }
                }
            }
        }

    }



    protected void radCategory_SelectedIndexChanged(object sender, RadComboBoxSelectedIndexChangedEventArgs e)
    {
        if (lblBatchName.Text == "ADB_AGCY" || lblBatchName.Text == "ABD_AGCY")
        {
            radDisposition.Items.Clear();
            radDisposition.ClearSelection();
            radDisposition.Text = string.Empty;

            if (con.State == ConnectionState.Open) con.Close(); con.Open();
            using (SqlCommand cmd = new SqlCommand("proc_get_disp2_AGCY", con))
            {
                cmd.CommandType = CommandType.StoredProcedure;

                SqlParameter dispparam = cmd.Parameters.AddWithValue("@disp", radCategory.Text);
                using (SqlDataReader dr = cmd.ExecuteReader())
                {
                    if (dr.HasRows == true)
                    {
                        while (dr.Read())
                        {
                            RadComboBoxItem item = new RadComboBoxItem(dr["Disposition"].ToString());
                            radDisposition.Items.Add(item);
                        }
                    }
                }

            }
        }
        else
        {
            radDisposition.Items.Clear();
            radDisposition.ClearSelection();
            radDisposition.Text = string.Empty;

            if (con.State == ConnectionState.Open) con.Close(); con.Open();
            using (SqlCommand cmd = new SqlCommand("proc_get_disp2", con))
            {
                cmd.CommandType = CommandType.StoredProcedure;

                SqlParameter dispparam = cmd.Parameters.AddWithValue("@disp", radCategory.Text);
                using (SqlDataReader dr = cmd.ExecuteReader())
                {
                    if (dr.HasRows == true)
                    {
                        while (dr.Read())
                        {
                            RadComboBoxItem item = new RadComboBoxItem(dr["Disposition"].ToString());
                            radDisposition.Items.Add(item);
                        }
                    }

                }

            }
        }
    }

    protected void radDisposition_SelectedIndexChanged1(object sender, RadComboBoxSelectedIndexChangedEventArgs e)
    {
        if (lblBatchName.Text == "ADB_AGCY" || lblBatchName.Text == "ABD_AGCY")
        {

        RadSubdisposition.Items.Clear();
        RadSubdisposition.ClearSelection();
        RadSubdisposition.Text = string.Empty;

        if (con.State == ConnectionState.Open) con.Close(); con.Open();
        using (SqlCommand cmd = new SqlCommand("proc_get_subdisp2_AGCY", con))
        {
            cmd.CommandType = CommandType.StoredProcedure;

            SqlParameter dispparam = cmd.Parameters.AddWithValue("@disp", radCategory.Text);
            SqlParameter subdisp = cmd.Parameters.AddWithValue("@subdisp", radDisposition.Text);
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {
                        RadComboBoxItem item = new RadComboBoxItem(dr["subdispositioncode"].ToString());
                        RadSubdisposition.Items.Add(item);
                    }
                }
            }
        }
      }
        else
        {
             RadSubdisposition.Items.Clear();
             RadSubdisposition.ClearSelection();
             RadSubdisposition.Text = string.Empty;

        if (con.State == ConnectionState.Open) con.Close(); con.Open();
        using (SqlCommand cmd = new SqlCommand("proc_get_subdisp2", con))
        {
            cmd.CommandType = CommandType.StoredProcedure;

            SqlParameter dispparam = cmd.Parameters.AddWithValue("@disp", radCategory.Text);
            SqlParameter subdisp = cmd.Parameters.AddWithValue("@subdisp", radDisposition.Text);
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {
                        RadComboBoxItem item = new RadComboBoxItem(dr["subdispositioncode"].ToString());
                        RadSubdisposition.Items.Add(item);
                    }
                }
            }
         }
       }



            if (radDisposition.Text == "Complaint")
            {

                txtExistingPolicyNo.Visible = true;
                txtCustomerName.Visible = true;
                txtCustomerContactDetails.Visible = true;
                txtServiceRequestNo.Visible = true;
                txtMediumthroughwhichSRraised.Visible = true;
                txtnature.Visible = true;
                txtSenttoHODate.Visible = true;
                Label37.Visible = true;
                Label39.Visible = true;
                Label40.Visible = true;
                Label41.Visible = true;
                Label42.Visible = true;
                Label52.Visible = true;
                Label46.Visible = true;

                txtExistingPolicyNo.Enabled = true;






            }
            else
            {


                txtExistingPolicyNo.Visible = false;
                txtCustomerName.Visible = false;
                txtCustomerContactDetails.Visible = false;
                txtServiceRequestNo.Visible = false;
                txtMediumthroughwhichSRraised.Visible = false;
                txtnature.Visible = false;
                txtSenttoHODate.Visible = false;
                Label37.Visible = false;
                Label39.Visible = false;
                Label40.Visible = false;
                Label41.Visible = false;
                Label42.Visible = false;
                Label52.Visible = false;
                Label46.Visible = false;
                txtExistingPolicyNo.Enabled = false;


            }

            if( radDisposition.SelectedItem.Text == "Lead success")
            {
               Annual_Income1();
            }

            if (radDisposition.SelectedItem.Text != "Lead success" && radDisposition.SelectedItem.Text != "Not Eligible")
            {
                Annual_Income2();
            }

            if (radDisposition.SelectedItem.Text == "Not Eligible")
            {
                Annual_Income3();
            }

            if (radDisposition.Text == "Language Barrier")
            {
                Language.Visible = true;
                DDLanguage.Visible = true;
            }
            else
            {
                Language.Visible = false;
                DDLanguage.Visible = false;
            }
            
    }
    protected void Button1_Click(object sender, EventArgs e)
    {
        string monno2 = "0" + txtmobile1.Value;
        //Label55.Text =monno2;
        CtiWS.CtiWS CtiWS1 = new CtiWS.CtiWS();
        CtiWS1.MakeCall("", "", "8300", monno2, "", "", strHost);
        // CtiWS1.MakeCall("", "", "8300", txtmobile1.Value, "", "", strHost);
        CtiWS1.SendPbxDigits("", "", monno2, strHost);
    }
    protected void Button2_Click(object sender, EventArgs e)
    {
        CtiWS.CtiWS CtiWS1 = new CtiWS.CtiWS();
        CtiWS1.Hangup("", "", strHost);
    }
    protected void Button3_Click(object sender, EventArgs e)
    {
        if (Button3.Text == "Hold")
        {
            Button3.Text = "UnHold";
            CtiWS.CtiWS CtiWS1 = new CtiWS.CtiWS();
            CtiWS1.Hold("", "", strHost);
        }
        else
        {
            Button3.Text = "Hold";
            CtiWS.CtiWS CtiWS1 = new CtiWS.CtiWS();
            CtiWS1.Hold("", "", strHost);

        }
    }
    protected void txtnotepad_TextChanged(object sender, EventArgs e)
    {
        con.Close();
        string savestr = "";
        string updatestr = "";
        DataSet dsA = new DataSet();
        if (txtnotepad.Text.Trim() != "NULL")
        {
            savestr = "";
            if (con.State == ConnectionState.Closed) con.Close(); con.Open();
            savestr = "select * from SavedNotepads where AGENTNAME='" + (lblagentname.Text.Trim()) + "' and CRM='TATA_AIA_OUT'";
            SqlCommand sql2 = new SqlCommand(savestr, con);
            //  sql2.CommandText = strQuery;
            SqlDataReader dr3 = sql2.ExecuteReader();

            if (dr3.HasRows == true)
            {
                updatestr = "";
                if (con.State == ConnectionState.Open) con.Close(); con.Open();
                updatestr = "Update SavedNotepads set UpdateDate=GETDATE(), NOTEPADTEXT='" + txtnotepad.Text + "' where AGENTNAME='" + (lblagentname.Text) + "' and CRM='TATA_AIA_OUT'";
                SqlCommand cmd1 = new SqlCommand(updatestr, con);
                //  cmd1.CommandText = strQuery;
                cmd1.ExecuteNonQuery();
            }
            else
            {
                savestr = "";
                if (con.State == ConnectionState.Open) con.Close(); con.Open();
                savestr = "INSERT INTO SavedNotepads (AGENTID,AGENTNAME,UpdateDate,NOTEPADTEXT, CRM) values ('" + lblagentname.Text + "','" + lblagentname.Text + "', GETDATE(),'" + txtnotepad.Text + "','TATA_AIA_OUT')";
                SqlCommand cmd2 = new SqlCommand(savestr, con);
                //  cmd2.CommandText = strQuery;
                cmd2.ExecuteNonQuery();

            }

            //if (ChkPiched.Text == "NULL")
            //{
            // //   ChkPiched.Checked = true;
            //    ChkPiched.Enabled = true;
            //}

        }
    }

    protected void fillhistory()
    {
        string STRCON = ConfigurationManager.ConnectionStrings["Constring"].ConnectionString;
        SqlConnection con = new SqlConnection(STRCON);
        SqlDataAdapter da = new SqlDataAdapter();
        DataTable dt = new DataTable();

        SqlCommand cmd = new SqlCommand("History_Outbound_10_05_2023", con);
        cmd.CommandType = CommandType.StoredProcedure;
        cmd.Parameters.AddWithValue("@phone", txtmobile1.Value);

        con.Open();


        da.SelectCommand = cmd;
        da.Fill(dt);
        GrdHistory.DataSource = dt;
        GrdHistory.DataBind();

        con.Close();
    }
    protected void GrdHistory_RowDataBound(object sender, GridViewRowEventArgs e)
    {

    }
    protected void RadSubdisposition_SelectedIndexChanged(object sender, RadComboBoxSelectedIndexChangedEventArgs e)
    {
        //RadSubdisposition.Items.Clear();
        //RadSubdisposition.ClearSelection();
        //RadSubdisposition.Text = string.Empty;

        if (lblBatchName.Text == "ADB_AGCY" || lblBatchName.Text == "ABD_AGCY")
        {

        if (con.State == ConnectionState.Open) con.Close(); con.Open();
        using (SqlCommand cmd = new SqlCommand("proc_get_subdispcode2_AGCY", con))
        {
            cmd.CommandType = CommandType.StoredProcedure;

            SqlParameter dispparam = cmd.Parameters.AddWithValue("@disp", radCategory.Text);
            SqlParameter subdisp = cmd.Parameters.AddWithValue("@subdisp", RadSubdisposition.Text);
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {


                        strdispcodevalues.Value = dr["disp_code"].ToString();

                    }
                }
            }

        }
       }
       else 
        {
            if (con.State == ConnectionState.Open) con.Close(); con.Open();
            using (SqlCommand cmd = new SqlCommand("proc_get_subdispcode2", con))
        {
            cmd.CommandType = CommandType.StoredProcedure;

            SqlParameter dispparam = cmd.Parameters.AddWithValue("@disp", radCategory.Text);
            SqlParameter subdisp = cmd.Parameters.AddWithValue("@subdisp", RadSubdisposition.Text);
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {


                        strdispcodevalues.Value = dr["disp_code"].ToString();

                    }
                }
            }

        }
 
        }
        if (Convert.ToString(strdispcodevalues.Value) == "CBAP" || Convert.ToString(strdispcodevalues.Value) == "PDDFU" || strdispcodevalues.Value == "CBFFU" || strdispcodevalues.Value == "CAFBEF" || strdispcodevalues.Value == "CNARN" || strdispcodevalues.Value == "CCBA" || strdispcodevalues.Value == "CCBFC" || strdispcodevalues.Value == "CBK" || strdispcodevalues.Value == "CCBP" || strdispcodevalues.Value == "CBCA")
        {

            radPKPickupCallBack.Enabled = true;
        }
        else
        {
            radPKPickupCallBack.Enabled = false;
        }
        if (Convert.ToString(strdispcodevalues.Value) == "APMT")
        {

            RadappointmentDate.Enabled = true;
            RadappointmentStartTime.Enabled = true;
            RadappointmentEndTime.Enabled = true;
            lblOccupation.Visible = true;
            DDOccupation.Visible = true;
        }
        else
        {
            RadappointmentDate.Enabled = false;
            RadappointmentStartTime.Enabled = false;
            RadappointmentEndTime.Enabled = false;
            lblOccupation.Visible = false;
            DDOccupation.Visible = false;

        }
        if (strdispcodevalues.Value == "IC")
        {
            Radreason.Enabled = true;
        }
    }

    public void PUSH_JSONDATA()
    {
        //var request = (HttpWebRequest)WebRequest.Create("http://172.16.0.81:443/TATA_AIA_LG/Default.aspx?ClientID=2019041003461578112");

        //var response = (HttpWebResponse)request.GetResponse();



    }


    protected void ChkPiched_CheckedChanged(object sender, EventArgs e)
    {
        if (ChkPiched.Checked == true)
        {
            ChkPiched.Enabled = false;


        }
        else
        {

            ChkPiched.Enabled = true;
        }
    }
    protected void notepad()
    {

        con.Close();
        if (con.State == ConnectionState.Closed) con.Close(); con.Open();
        SqlDataAdapter da = new SqlDataAdapter();
        DataTable dt = new DataTable();
        string strQuery = "";

        strQuery = "select * from SavedNotepads where AGENTNAME='" + (lblagentname.Text.Trim()) + "' and CRM='TATA_AIA_OUT'";
        //   strQuery += " from AS_DEMO..CTI_Lead_Master_18 where lead_id = " + strlead_ID;

        SqlCommand sql2 = new SqlCommand(strQuery, con);
        sql2.CommandText = strQuery;
        SqlDataReader dr3 = sql2.ExecuteReader();

        if (dr3.HasRows == true)
        {
            while (dr3.Read())
            {
                txtnotepad.Text = dr3["NOTEPADTEXT"].ToString();


            }
        }
        dr3.Close();
    }

    protected void cbTermRider_CheckedChanged(object sender, EventArgs e)
    {
        if (cbTermRider.Checked == true)
        {
            cbTermRider.Enabled = false;
        }
        else
        {
            cbTermRider.Enabled = true;
        }
    }
    protected void Button4_Click(object sender, EventArgs e)
    {

        //string monno = "0" + txtmobile.Value;

        CtiWS.CtiWS CtiWS1 = new CtiWS.CtiWS();
        //CtiWS1.MakeCall("", "", "8300", monno, "", "", strHost);

        CtiWS1.MakeCall("", "", "8300", txtmobile.Value, "", "", strHost);
        CtiWS1.SendPbxDigits("", "", txtmobile.Value, strHost);
    }
    protected void Button5_Click(object sender, EventArgs e)
    {
        //string monno1 = "0" + txtlandlineno.Value;
        CtiWS.CtiWS CtiWS1 = new CtiWS.CtiWS();
        //CtiWS1.MakeCall("", "", "8300", monno1 , "", "", strHost);
        CtiWS1.MakeCall("", "", "8300", txtlandlineno.Value, "", "", strHost);
        CtiWS1.SendPbxDigits("", "", txtlandlineno.Value, strHost);
    }
    protected void Button6_Click(object sender, EventArgs e)
    {
        CtiWS.CtiWS CtiWS1 = new CtiWS.CtiWS();
        CtiWS1.Hangup("", "", strHost);
    }
    protected void Button7_Click(object sender, EventArgs e)
    {
        CtiWS.CtiWS CtiWS1 = new CtiWS.CtiWS();
        CtiWS1.Hangup("", "", strHost);
    }

    protected void btnsearch_Click(object sender, EventArgs e)
    {
        leadload_select();
    }


    //protected void txtcurrzip_TextChanged(object sender, EventArgs e)
    //{
    //    if (conn.State == ConnectionState.Open) conn.Close(); conn.Open();
    //    using (SqlCommand cmd = new SqlCommand("proc_get_city_state", conn))
    //    {
    //        cmd.CommandType = CommandType.StoredProcedure;

    //        SqlParameter pincode = cmd.Parameters.AddWithValue("@pincode", txtcurrzip.Text);
    //        //SqlParameter subdisp = cmd.Parameters.AddWithValue("@subdisp", RadSubdisposition.SelectedItem.Text);
    //        using (SqlDataReader dr = cmd.ExecuteReader())
    //        {
    //            if (dr.HasRows == true)
    //            {
    //                while (dr.Read())
    //                {


    //                    txtcurrcity.Text = dr["City"].ToString();
    //                    txtcurrentstate.Text = dr["State"].ToString();

    //                }
    //            }
    //        }

    //    }
    //}

    //public void getCity()
    //{
    //    if (con.State == ConnectionState.Open) con.Close(); con.Open();


    //    txtcurrcity.Items.Clear();
    //    txtcurrcity.ClearSelection();

    //    txtcurrcity.Items.Insert(0, new ListItem("", ""));

    //    using (SqlCommand cmd = new SqlCommand("proc_get_Pincode_new", con))
    //    {

    //        cmd.CommandType = CommandType.StoredProcedure;
    //        //SqlParameter calltype = cmd.Parameters.AddWithValue("@Calltype", Session["strcalltypes"].ToString());
    //     //   SqlParameter disp = cmd.Parameters.AddWithValue("@disp", null);
    //        using (SqlDataReader dr = cmd.ExecuteReader())
    //        {
    //            if (dr.HasRows == true)
    //            {
    //                while (dr.Read())
    //                {
    //                    //RadComboBoxItem item = new RadComboBoxItem(dr["category"].ToString());
    //                    txtcurrcity.Items.Add(dr["Pincode"].ToString());
    //                }
    //            }
    //        }
    //    }

    //}

    //public void getPincode()
    //{
    //    if (con.State == ConnectionState.Open) con.Close(); con.Open();


    //    txtcurrcity.Items.Clear();
    //    txtcurrcity.ClearSelection();

    //    txtcurrcity.Items.Insert(0, new ListItem("", ""));

    //    using (SqlCommand cmd = new SqlCommand("proc_get_city", con))
    //    {

    //        cmd.CommandType = CommandType.StoredProcedure;
    //        //SqlParameter calltype = cmd.Parameters.AddWithValue("@Calltype", Session["strcalltypes"].ToString());
    //        //   SqlParameter disp = cmd.Parameters.AddWithValue("@disp", null);
    //        using (SqlDataReader dr = cmd.ExecuteReader())
    //        {
    //            if (dr.HasRows == true)
    //            {
    //                while (dr.Read())
    //                {
    //                    //RadComboBoxItem item = new RadComboBoxItem(dr["category"].ToString());
    //                    txtcurrcity.Items.Add(dr["City"].ToString());
    //                }
    //            }
    //        }
    //    }

    //}

    protected void txtremarks_TextChanged(object sender, EventArgs e)
    {
        //txtremarks.Text = txtremarks.Text.ToUpper();
    }

    public void check_duplicate_leads()
    {
        if (con.State == ConnectionState.Open) con.Close(); con.Open();
        using (SqlCommand cmd = new SqlCommand("proc_chk_duplicasy", con))
        {
            cmd.CommandType = CommandType.StoredProcedure;
            SqlParameter subdisp = cmd.Parameters.AddWithValue("@MobileNo", txtmobile1.Value);
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {
                        leadcount.Text = dr["cnt"].ToString();
                    }
                }
            }

        }

    }

    public void getServicableNonServicable()
    {
        //txtcurrzip.Items.Clear();
       // txtcurrzip.ClearSelection();
       

        if (con.State == ConnectionState.Open) con.Close(); con.Open();
        using (SqlCommand cmd = new SqlCommand("proc_get_Servicable_NonServicable_2023_11_28", con))
            {
                cmd.CommandType = CommandType.StoredProcedure;

                SqlParameter pincode = cmd.Parameters.AddWithValue("@P_Pincode", txtcurrzip.Text);
                //SqlParameter subdisp = cmd.Parameters.AddWithValue("@subdisp", RadSubdisposition.SelectedItem.Text);
                using (SqlDataReader dr = cmd.ExecuteReader())
                {
                    if (dr.HasRows == true)
                    {
                        while (dr.Read())
                        {


                           // txtcurrzip.Text = dr["Pincode"].ToString();
                          //  txtcurrzip.Items.Add(dr["Pincode"].ToString());
                            lblServicablePincode.Text = dr["DSF_Serviceable_Flag"].ToString();

                        }
                       
                    }
                    else
                    {
                        lblServicablePincode.Text = "PincodeStatus";
                    }
                }

            }
    }

    public void getState()
    {
      //  txtcurrentstate.Items.Clear();
       // txtcurrentstate.ClearSelection();
        txtcurrentstate.Text = "";

        if (con.State == ConnectionState.Open) con.Close(); con.Open();
        using (SqlCommand cmd = new SqlCommand("proc_get_city_state_04_Feb_2023", con))
        {
            cmd.CommandType = CommandType.StoredProcedure;

            SqlParameter pincode = cmd.Parameters.AddWithValue("@P_City", txtcurrcity.Text);
            //SqlParameter subdisp = cmd.Parameters.AddWithValue("@subdisp", RadSubdisposition.SelectedItem.Text);
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {


                        // txtcurrzip.Text = dr["Pincode"].ToString();
                       // txtcurrcity.Items.Add(dr["City"].ToString());
                        txtcurrentstate.Text = dr["StateName"].ToString();

                    }
                }
                else
                {
                    txtcurrcity.Text = "";
                    //txtcurrcity.Items.Clear();
                    txtcurrentstate.Text = "";
                }
            }

        }
    }

    public void getZone()
    {
        //  txtcurrentstate.Items.Clear();
        // txtcurrentstate.ClearSelection();
        txtcurrentstate.Text = "";

        if (con.State == ConnectionState.Open) con.Close(); con.Open();
        using (SqlCommand cmd = new SqlCommand("Proc_get_zone", con))
        {
            cmd.CommandType = CommandType.StoredProcedure;

            SqlParameter pincode = cmd.Parameters.AddWithValue("@P_City", txtcurrcity.Text);
            //SqlParameter subdisp = cmd.Parameters.AddWithValue("@subdisp", RadSubdisposition.SelectedItem.Text);
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {


                        // txtcurrzip.Text = dr["Pincode"].ToString();
                        // txtcurrcity.Items.Add(dr["City"].ToString());
                        lblzone.Text = dr["Zone_"].ToString();
                        
                    }
                }
                else
                {
                    lblzone.Text = "";

                }
            }

        }
    }

   
    protected void txtcurrcity_SelectedIndexChanged(object sender, EventArgs e)
    {
        
        getZone();
        getState();
        if (lblzone.Text == "East" || lblzone.Text == "North")
        {
            lblstatus.Visible = true;
            lblstatus.Text = "Verification Required";
            this.lblstatus.BackColor = Color.Yellow;
            this.lblstatus.ForeColor = Color.Blue;
        }
        else
        {
            lblstatus.Visible = false;
        }
       
    }
    protected void PinCode_Click(object sender, EventArgs e)
    {
        getServicableNonServicable();

        
        if (lblBatchName.Text != "BIZ_PFAFEB23")
        {
            if (lblServicablePincode.Text == "Serviceable")
            {

                this.lblServicablePincode.BackColor = Color.Green;
                this.lblServicablePincode.ForeColor = Color.White;

            }
            else if (lblServicablePincode.Text == "Non Serviceable")
            {
                this.lblServicablePincode.BackColor = Color.Red;
                this.lblServicablePincode.ForeColor = Color.White;
                if (lblBatchName.Text == "DSF_AGENCY")
                {
                    this.lblServicablePincode.BackColor = Color.Green;
                    this.lblServicablePincode.ForeColor = Color.White;
                }
            }

            else
            {
                this.lblServicablePincode.ForeColor = Color.Black;
                this.lblServicablePincode.BackColor = Color.White;
            }
        }
    }


    public void DSF_BO_TRANSFER()
    {



        string STRCON = ConfigurationManager.ConnectionStrings["Constring"].ConnectionString;
        SqlConnection con = new SqlConnection(STRCON);

        //SqlCommand cmd = new SqlCommand("USP_SAVE_DATA_TATA_AIA_OUT", con);//OG
        SqlCommand cmd = new SqlCommand("USP_SAVE_DATA_DSF_BO_TRANSFER", con);
        cmd.CommandType = CommandType.StoredProcedure;
        cmd.Parameters.AddWithValue("@Lead_ID", txtleadid1.Text);

        cmd.Parameters.AddWithValue("@lead_fname", txtleadname.Text);
        cmd.Parameters.AddWithValue("@lead_phone", txtmobile1.Value);
        cmd.Parameters.AddWithValue("@CURNT_CITY", txtcurrcity.Text);
        cmd.Parameters.AddWithValue("@CURNT_STATE", txtcurrentstate.Text);
        cmd.Parameters.AddWithValue("@CURNT_ZIP_CODE", txtcurrzip.Text);

        cmd.Parameters.AddWithValue("@lead_remarks", txtremarks.Text);


        cmd.Parameters.AddWithValue("@LEAD_SOURCE3_CD", txtleadsourcethree.Text);
        cmd.Parameters.AddWithValue("@RadSubdisposition", RadSubdisposition.Text);




        //cmd.Parameters.AddWithValue("@lead_last_dial_status", strdispcodevalues);
        con.Open();
        int i = cmd.ExecuteNonQuery();

        con.Close();

        // Response.Write("<script>alert('Data Submitted')</script>");
        ChkPiched.Enabled = true;
        cbTermRider.Enabled = true;


    }

    public void Annual_Income1()
    {
        drpIncome.Items.Clear();
        drpIncome.Items.Add(new ListItem("", ""));
        drpIncome.Items.Add(new ListItem("3Lacs - 5Lacs", "3Lacs - 5Lacs"));
        drpIncome.Items.Add(new ListItem("5Lacs - 7.50Lacs", "5Lacs - 7.50Lacs"));
        drpIncome.Items.Add(new ListItem("7.50Lacs 10Lacs", "7.50Lacs 10Lacs"));
        drpIncome.Items.Add(new ListItem("10Lacs - 15Lacs", "10Lacs - 15Lacs"));
        drpIncome.Items.Add(new ListItem("15Lacs - 20Lacs", "15Lacs - 20Lacs"));
        drpIncome.Items.Add(new ListItem("20Lacs - 25Lacs", "20Lacs - 25Lacs"));
        drpIncome.Items.Add(new ListItem("25Lacs - Above", "25Lacs - Above"));
    }

    public void Annual_Income2()
    {
        drpIncome.Items.Clear();
        drpIncome.Items.Add(new ListItem("", ""));
        drpIncome.Items.Add(new ListItem("AI Not Disclosed", "AI Not Disclosed"));
        drpIncome.Items.Add(new ListItem("No Income/Student /Unwaged", "No Income/Student /Unwaged"));
        drpIncome.Items.Add(new ListItem("0Lacs - 1Lacs", "0Lacs - 1Lacs"));
        drpIncome.Items.Add(new ListItem("1Lacs - 2Lacs", "1Lacs - 2Lacs"));
        drpIncome.Items.Add(new ListItem("2Lacs - 3Lacs", "2Lacs - 3Lacs"));
        drpIncome.Items.Add(new ListItem("3Lacs - 5Lacs", "3Lacs - 5Lacs"));
        drpIncome.Items.Add(new ListItem("5Lacs - 7.50Lacs", "5Lacs - 7.50Lacs"));
        drpIncome.Items.Add(new ListItem("7.50Lacs 10Lacs", "7.50Lacs 10Lacs"));
        drpIncome.Items.Add(new ListItem("10Lacs - 15Lacs", "10Lacs - 15Lacs"));
        drpIncome.Items.Add(new ListItem("15Lacs - 20Lacs", "15Lacs - 20Lacs"));
        drpIncome.Items.Add(new ListItem("20Lacs - 25Lacs", "20Lacs - 25Lacs"));
        drpIncome.Items.Add(new ListItem("25Lacs - Above", "25Lacs - Above"));
    }

    public void Annual_Income3()
    {
        drpIncome.Items.Clear();
        drpIncome.Items.Add(new ListItem("", ""));
        drpIncome.Items.Add(new ListItem("No Income/Student/Unwaged", "No Income/Student/Unwaged"));
        drpIncome.Items.Add(new ListItem("0Lacs - 1Lacs", "0Lacs - 1Lacs"));
        drpIncome.Items.Add(new ListItem("1Lacs - 2Lacs", "1Lacs - 2Lacs"));
        drpIncome.Items.Add(new ListItem("2Lacs - 3Lacs", "2Lacs - 3Lacs"));
    }

    protected void txtcurrzip_TextChanged(object sender, EventArgs e)
    {
        if (con.State == ConnectionState.Open) con.Close(); con.Open();
        using (SqlCommand cmd = new SqlCommand("proc_get_city_state_details", con))
        {
            cmd.CommandType = CommandType.StoredProcedure;

            SqlParameter pincode = cmd.Parameters.AddWithValue("@pincode", txtcurrzip.Text);
            //SqlParameter subdisp = cmd.Parameters.AddWithValue("@subdisp", RadSubdisposition.SelectedItem.Text);
            using (SqlDataReader dr = cmd.ExecuteReader())
            {
                if (dr.HasRows == true)
                {
                    while (dr.Read())
                    {


                        txtcurrcity.Text = dr["City"].ToString();
                        txtcurrentstate.Text = dr["StateName"].ToString();

                    }
                }
            }

        }
    }
}